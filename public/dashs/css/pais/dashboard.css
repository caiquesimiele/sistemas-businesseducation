/* RESET E BASE - PADRONIZADO COM LOJA */
* {
    box-sizing: border-box;
}

/* Garantir que nenhum elemento exceda a largura da tela */
*, *::before, *::after {
    max-width: 100%;
    box-sizing: border-box;
}

/* === SISTEMA MASTER DE ESPA√áAMENTOS - BANNER COLADO + BLOCOS RESPIR√ÅVEIS PAIS === */
:root {
    /* Espa√ßamentos fundamentais - BANNER COLADO, BLOCOS RESPIR√ÅVEIS */
    --spacing-banner-bottom: 0;                /* Banner ‚Üí T√≠tulo: COLADO */
    --spacing-content-lateral: 0.75rem;        /* Conte√∫do ‚Üî Filtro: COMPACTO */
    --spacing-content-lateral-mobile: 0.5rem;  /* Mobile: ULTRA COMPACTO */
    --spacing-blocks-vertical: 0.7rem;         /* Entre blocos: RESPIR√ÅVEL */
    --spacing-gutter-x: 0.5rem;               /* Bootstrap X: COMPACTO */
    --spacing-gutter-y: 0.7rem;               /* Bootstrap Y: RESPIR√ÅVEL */
    
    /* Espa√ßamentos espec√≠ficos - BANNER M√çNIMO, BLOCOS RESPIR√ÅVEIS */
    --spacing-main-container: 0.3rem 0;            /* Container: COMPACTO */
    --spacing-chart-container: 0.5rem;            /* Charts: COMPACTO */
    --spacing-filter-lateral: 30px;                /* Filtro: REDUZIDO */
    
    /* Espa√ßamentos de componentes - BANNER M√çNIMO, BLOCOS RESPIR√ÅVEIS */
    --spacing-rate-card: 0.6rem 0.4rem;           /* Rate cards: COMPACTO */
    --spacing-rate-card-mobile: 0.4rem 0.3rem;    /* Rate cards mobile: COMPACTO */
    --spacing-sidebar-content: 0.6rem;            /* Sidebar: COMPACTO */
    --spacing-section-container: 0.6rem;          /* Se√ß√µes: COMPACTO */
    --spacing-highlights: 1rem 0.6rem;            /* Highlights: COMPACTO */
    
    /* Espa√ßamentos espec√≠ficos para banner colado + blocos respir√°veis */
    --spacing-first-row: 0;                       /* Primeiro row ap√≥s banner: COLADO */
    --spacing-banner-top: 0;                      /* Banner padding-top: ZERO */
    --spacing-between-rows: 0.7rem;               /* Entre rows de conte√∫do: RESPIR√ÅVEL */
}

/* Bootstrap container-fluid espec√≠fico */
.container-fluid {
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: auto !important;
    margin-right: auto !important;
    box-sizing: border-box !important;
}

html {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

body {
    background: #056BF1;
    color: white;
    min-height: 100vh;
    position: relative;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

/* Foguetes removidos - agora usando rocket-animated.css */

/* Header Simplificado */
.simple-header {
    background: #121F4B;
    border-bottom: 3px solid #FF692B;
    padding: 0.5rem 2rem;
    margin-bottom: 0; /* PADRONIZADO COM LOJA */
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    z-index: 1000;
    overflow: visible;
}

.business-logo {
    height: 50px;
    width: auto;
    filter: brightness(1.1);
}

/* Layout do header - desktop */
.header-logo {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    gap: 1rem; /* Espa√ßamento entre logo e indicador de ano-projeto */
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-shrink: 0;
    margin-left: auto;
}

/* Indicador do Ano-Projeto - desktop */
.project-year-indicator {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    color: #fff;
    font-size: 13px;
    font-weight: 500;
    cursor: default;
    user-select: none;
    transition: all 0.3s ease;
    white-space: nowrap;
    height: 36px;
}

.project-year-indicator i {
    font-size: 14px;
    opacity: 0.8;
}

.project-year-indicator:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
}

.btn-pais {
    background: #FF692B;
    color: white;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    margin-right: 0;
    cursor: pointer;
    width: auto;
    height: 36px;
    gap: 6px;
}

.btn-pais:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    text-decoration: none;
}

/* Bot√£o de Refresh - Laranja e Redondo */
.btn-refresh {
    background: #FF692B;
    color: white;
    border: none;
    padding: 0.5rem;
    border-radius: 50%; /* Redondo */
    font-weight: 600;
    transition: transform 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    margin-right: 0;
    cursor: pointer;
    width: 36px;
    height: 36px;
}

.btn-refresh:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.btn-refresh:disabled {
    background: #6c757d;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.btn-refresh.refreshing {
    background: #FF692B;
    cursor: not-allowed;
}

.btn-refresh.refreshing i {
    animation: spin 1s linear infinite;
}

/* Bot√£o de PDF - Cor laranja como o refresh */
.btn-pdf {
    background: #FF692B;
    color: white;
    border: none;
    padding: 0.5rem;
    border-radius: 50%; /* Redondo como o refresh */
    font-weight: 600;
    transition: transform 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    margin-right: 0;
    cursor: pointer;
    width: 36px;
    height: 36px;
}

.btn-pdf:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.btn-pdf:disabled {
    background: #6c757d;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.btn-pdf.generating {
    background: #FF8C42; /* Laranja mais claro durante processamento */
    cursor: not-allowed;
}

.btn-pdf.generating i {
    animation: spin 1s linear infinite;
}

/* Otimiza√ß√µes para captura em PDF - DASHBOARD DE PESQUISA PAIS */
@media print, screen {
    /* Garantir que backgrounds sejam preservados */
    * {
        -webkit-print-color-adjust: exact !important;
        color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* Garantir visibilidade de elementos para html2canvas */
    .chart-container,
    .kpi-card,
    .section-container,
    .dashboard-content,
    .banner-info {
        position: relative !important;
        transform: none !important;
        opacity: 1 !important;
        visibility: visible !important;
    }
    
    /* Containers de gr√°ficos - fundo branco igual aos KPIs */
    .chart-container {
        background-color: #ffffff !important;
        color: #333333 !important;
        border-radius: 15px !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
    }
    
    /* Banner info - gradiente laranja */
    .banner-info {
        background: linear-gradient(135deg, #FF692B 0%, #FF8C42 100%) !important;
        color: #ffffff !important;
        border-radius: 15px !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
    }
    
    /* Cards KPI - fundo branco */
    .kpi-card {
        background-color: #ffffff !important;
        color: #333333 !important;
        border-radius: 15px !important;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
    }
    
    /* T√≠tulos dos gr√°ficos - texto escuro no fundo branco */
    .chart-title {
        color: #333333 !important;
        font-weight: bold !important;
    }
    
    /* T√≠tulos dos banners - branco no fundo laranja */
    .banner-title {
        color: #ffffff !important;
        font-weight: bold !important;
    }
    
    /* Perguntas dos gr√°ficos - texto cinza no fundo branco */
    .chart-question {
        color: #666666 !important;
    }
    
    /* Subt√≠tulos dos banners - branco transparente no fundo laranja */
    .banner-subtitle {
        color: rgba(255, 255, 255, 0.8) !important;
    }
    
    /* Valores KPI - texto escuro */
    .kpi-value {
        color: #333333 !important;
        font-weight: bold !important;
    }
    
    /* Labels KPI - cinza */
    .kpi-label {
        color: #666666 !important;
    }
    
    /* T√≠tulos de se√ß√£o - texto branco */
    .section-title {
        color: #ffffff !important;
        font-weight: bold !important;
    }
    
    /* √çcones dos t√≠tulos de se√ß√£o - brancos */
    .section-title i,
    h2.section-title i {
        color: #ffffff !important;
    }
    
    /* Canvas dos gr√°ficos */
    canvas {
        opacity: 1 !important;
        visibility: visible !important;
    }
    
    /* Evitar quebras de elementos */
    .chart-container,
    .kpi-card,
    .banner-info {
        break-inside: avoid !important;
        page-break-inside: avoid !important;
    }
}

.btn-refresh .refresh-text {
    display: none;
}

.btn-logout {
    background: white !important;
    color: #121F4B !important;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    margin-right: 0;
    cursor: pointer;
    width: auto;
    height: 36px;
    gap: 6px;
}

.btn-logout:hover {
    background: #f8f9fa !important;
    color: #121F4B !important;
    transform: translateY(-3px);
    text-decoration: none;
}

/* Texto dos bot√µes - sempre vis√≠vel */
.btn-text {
    display: inline;
}

/* Ajustes espec√≠ficos para mobile */
@media (max-width: 768px) {
    .simple-header {
        padding: 0.3rem 1rem;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        margin: 0;
        position: relative;
    }
    
    .header-actions {
        display: flex;
        align-items: center;
        gap: 0.3rem;
        flex-shrink: 1;
    }
    
    .header-logo {
        gap: 0.5rem !important; /* Espa√ßamento menor entre logo e indicador em mobile */
    }
    
    .btn-pais,
    .btn-logout,
    .btn-refresh,
    .btn-pdf {
        padding: 0.3rem 0.5rem !important;
        font-size: 0.7rem !important;
        margin-right: 0 !important;
        gap: 0.3rem !important;
        border-radius: 5px !important;
        white-space: nowrap !important;
    }
    
    .btn-pais,
    .btn-logout {
        height: 32px !important;
        padding: 0.4rem 0.8rem !important;
        font-size: 0.75rem !important;
        border-radius: 6px !important;
    }
    
    .btn-refresh,
    .btn-pdf {
        width: 32px !important;
        height: 32px !important;
        padding: 0.2rem !important;
        font-size: 0.8rem !important;
    }

    /* Indicador do Ano-Projeto - mobile override */
    .project-year-indicator {
        gap: 6px !important;
        padding: 6px 10px !important;
        font-size: 12px !important;
        border-radius: 4px !important;
    }

    .project-year-indicator i {
        font-size: 14px !important;
    }
    
    .business-logo {
        height: 35px;
    }
    
    .btn-pais,
    .btn-logout,
    .btn-refresh {
        padding: 0.4rem 0.8rem;
        font-size: 0.8rem;
        margin-right: 0.5rem;
        gap: 0.4rem;
        border-radius: 7px;
    }
    
    .btn-refresh {
        margin-right: 0.3rem;
        width: 40px;
        height: 40px;
    }
    
    .btn-pais {
        margin-right: 0.3rem;
    }
    
    .btn-logout {
        margin-right: 0;
    }
    
    /* ===== BLOCO DE T√çTULO - REGRA √öNICA E DEFINITIVA ===== */
    
    /* Container filho controla o layout */
    .simple-layout-container,
    html body .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-4 .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-8 .rate-card.highlight-orange .simple-layout-container {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: center !important;      /* BLOCO centralizado */
        gap: 0.8rem !important;
        padding: 1rem !important;
        margin: 0 auto !important;
        width: auto !important;
        max-width: 90% !important;
        height: 100% !important;
        box-sizing: border-box !important;
    }
    
    .logo-section {
        margin: 0 !important;
        padding: 0 !important;
        flex-shrink: 0 !important;               /* Logo mant√©m tamanho */
        display: flex !important;
        align-items: center !important;
        justify-content: flex-start !important;  /* Logo alinhado √† esquerda */
    }
    
    .text-section {
        margin: 0 !important;
        padding: 0 !important;
        flex-grow: 1 !important;                /* Texto ocupa espa√ßo restante */
        display: flex !important;
        flex-direction: column !important;      /* T√≠tulo e subt√≠tulo em coluna */
        justify-content: center !important;     /* Centralizado verticalmente */
        align-items: flex-start !important;     /* Texto alinhado √† esquerda */
        text-align: left !important;            /* FOR√áA texto √† esquerda */
    }
    
    .dashboard-title-main {
        margin: 0 !important;
        line-height: 1.2 !important;
        font-size: 1.1rem !important;
        text-align: left !important;            /* FOR√áA t√≠tulo √† esquerda */
    }
    
    .maintainer-name-sub {
        margin: 0 !important;
        line-height: 1.2 !important;
        font-size: 0.8rem !important;
        text-align: left !important;            /* FOR√áA subt√≠tulo √† esquerda */
    }
    
    .highlight-logo-simple {
        margin: 0 !important;
        height: 25px !important;
    }
}

/* ===== CORRE√á√ÉO FINAL: PAIS MOBILE - LAYOUT HORIZONTAL COMPLETO ===== */
@media (max-width: 768px) {
    /* Container: logo + texto horizontal, conjunto centralizado */
    html body .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-4 .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-8 .rate-card.highlight-orange .simple-layout-container {
        display: flex !important;
        flex-direction: row !important;          /* Logo √† esquerda + texto √† direita */
        align-items: center !important;          /* Centralizado verticalmente */
        justify-content: center !important;      /* Conjunto centralizado */
        gap: 0.8rem !important;                  /* Gap entre logo e texto */
        width: auto !important;
        max-width: 90% !important;
        margin: 0 auto !important;               /* Centralizado horizontalmente */
        padding: 0.8rem !important;
        height: auto !important;
        box-sizing: border-box !important;
    }
    
    /* Logo: fixo √† esquerda */
    html body .rate-card.highlight-orange .logo-section,
    html body .col-md-4 .rate-card.highlight-orange .logo-section,
    html body .col-md-8 .rate-card.highlight-orange .logo-section {
        flex-shrink: 0 !important;               /* Logo n√£o encolhe */
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;      /* Logo centralizado na sua √°rea */
        padding: 0 !important;
        margin: 0 !important;
    }
    
    /* Texto: √† direita do logo, alinhado √† esquerda */
    html body .rate-card.highlight-orange .text-section,
    html body .col-md-4 .rate-card.highlight-orange .text-section,
    html body .col-md-8 .rate-card.highlight-orange .text-section {
        flex: 1 !important;                      /* Ocupa espa√ßo restante */
        display: flex !important;
        flex-direction: column !important;       /* T√≠tulo em cima, subt√≠tulo embaixo */
        justify-content: center !important;      /* Centralizado verticalmente */
        align-items: flex-start !important;      /* Texto alinhado √† esquerda */
        text-align: left !important;             /* For√ßa alinhamento √† esquerda */
        padding: 0 !important;
        margin: 0 !important;
    }
    
    /* T√≠tulo e subt√≠tulo: alinhados √† esquerda */
    html body .rate-card.highlight-orange .dashboard-title-main,
    html body .rate-card.highlight-orange .maintainer-name-sub {
        text-align: left !important;             /* FOR√áA texto √† esquerda */
        margin: 0 !important;
        line-height: 1.2 !important;
    }
}

/* === MAIN CONTAINER MASTER - CONTROLE UNIFICADO === */
.main-container {
    padding: var(--spacing-main-container) !important;
    max-width: 100%;
    margin: 0 auto;
    position: relative;
    min-height: calc(100vh - 100px);
    box-sizing: border-box;
}

/* RESET BOOTSTRAP PARA STICKY FUNCIONAR - LIMPO E DIRETO */
.row {
    display: flex !important;
    flex-wrap: wrap !important;
    position: relative !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    z-index: 1;
    overflow: visible !important;
}

.col-md-3 {
    position: relative !important;
    flex: 0 0 auto !important;
    width: 20% !important;
    max-width: 20% !important;
    box-sizing: border-box !important;
    overflow: visible !important;
}

.col-md-9 {
    position: relative !important;
    flex: 0 0 auto !important;
    width: 80% !important;
    max-width: 80% !important;
    box-sizing: border-box !important;
    z-index: 1;
    overflow: visible !important;
}

/* SIDEBAR STICKY - PADRONIZADO COM LOJA */
.sidebar-sticky {
    /* PROPRIEDADES STICKY PRINCIPAIS */
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 20px !important;
    z-index: 999 !important;
    
    /* LAYOUT */
    display: block !important;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    
    /* ALTURA E SCROLL INTERNO */
    max-height: calc(100vh - 40px) !important;
    overflow-y: auto !important;
    overflow-x: visible !important;
    
    /* ESTILO VISUAL IGUAL √Ä LOJA */
    background: white;
    border-radius: 14px;
    padding: 0.8rem;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    border: 2px solid rgba(18, 31, 75, 0.1);
    margin: 0.5rem 0;
}

/* GARANTIR STICKY EM DESKTOP */
@media (min-width: 769px) {
    .sidebar-sticky {
        position: -webkit-sticky !important;
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
        max-height: calc(100vh - 40px) !important;
        overflow-y: auto !important;
        overflow-x: visible !important;
    }
    
    /* FOR√áAR CONTAINERS PAIS A N√ÉO INTERFERIREM COM STICKY */
    .container-fluid,
    .main-container,
    .row,
    .col-md-3 {
        overflow: visible !important;
        contain: none !important;
        transform: none !important;
    }
    
    /* Scrollbar customizado para o filtro */
    .sidebar-sticky::-webkit-scrollbar {
        width: 6px;
    }
    
    .sidebar-sticky::-webkit-scrollbar-track {
        background: rgba(18, 31, 75, 0.1);
        border-radius: 2px;
    }
    
    .sidebar-sticky::-webkit-scrollbar-thumb {
        background: rgba(18, 31, 75, 0.3);
        border-radius: 2px;
    }
    
    .sidebar-sticky::-webkit-scrollbar-thumb:hover {
        background: rgba(18, 31, 75, 0.5);
    }
    
    /* FOR√áAS ADICIONAIS PARA GARANTIR STICKY */
    html body .container-fluid {
        overflow: visible !important;
    }
    
    html body .main-container {
        overflow: visible !important;
    }
    
    html body .row {
        overflow: visible !important;
    }
    
    html body .col-md-3 {
        overflow: visible !important;
    }
    
    html body .col-md-3 .sidebar-sticky {
        position: -webkit-sticky !important;
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
        display: block !important;
        contain: none !important;
        transform: none !important;
        will-change: auto !important;
    }
}

.sidebar-sticky .sidebar-title {
    color: #121F4B;
}

.sidebar-sticky .sidebar-subtitle {
    color: rgba(18, 31, 75, 0.7);
}

.sidebar-sticky .sidebar-logo {
    filter: brightness(1) saturate(100%) invert(0);
}

.sidebar-sticky .filter-group label {
    color: white;
    font-weight: 600;
    opacity: 1;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.sidebar-sticky .form-select,
.sidebar-sticky .form-control {
    background: #f8f9fa;
    border-color: rgba(18, 31, 75, 0.3);
    color: #121F4B;
    font-weight: 500;
}

.sidebar-sticky .form-control::placeholder {
    color: rgba(18, 31, 75, 0.6) !important;
    font-weight: 500;
}

.sidebar-sticky .form-select:focus,
.sidebar-sticky .form-control:focus {
    background: white;
    border-color: #FF692B;
    color: #121F4B;
    box-shadow: 0 0 0 0.2rem rgba(255, 105, 43, 0.25);
}

.sidebar-sticky .form-select option {
    background: white;
    color: #121F4B;
}

.sidebar-sticky .btn-filter {
    background: linear-gradient(135deg, #FF692B 0%, #ff7943 100%);
    color: white;
    border: 1px solid #FF692B;
    padding: 0.5rem 1rem;
    border-radius: 2px;
    font-weight: 500;
    transition: all 0.3s ease;
}

/* HOVER DOS BOT√ïES - PADRONIZADO COM LOJA */
.sidebar-sticky .btn-filter:hover,
.sidebar-sticky .filters-container .btn-filter:hover {
    background: linear-gradient(135deg, #ff7943 0%, #FF692B 100%) !important;
    border-color: #FF692B !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 5px 15px rgba(255, 105, 43, 0.4) !important;
}

/* SCROLLBAR CUSTOMIZADA IGUAL √Ä LOJA */
.sidebar-sticky::-webkit-scrollbar {
    width: 6px;
}

.sidebar-sticky::-webkit-scrollbar-track {
    background: rgba(18, 31, 75, 0.1);
    border-radius: 2px;
}

.sidebar-sticky::-webkit-scrollbar-thumb {
    background: rgba(18, 31, 75, 0.3);
    border-radius: 2px;
}

.sidebar-sticky::-webkit-scrollbar-thumb:hover {
    background: rgba(18, 31, 75, 0.5);
}

.sidebar-sticky .simple-sidebar-header {
    background: none;
    margin-bottom: 1rem;
}

/* === SECTION CONTAINER BLOCOS RESPIR√ÅVEIS === */
.section-container {
    background: #121F4B;
    border-radius: 14px;
    padding: 2rem; /* Margem interna igual ao dashboard da loja */
    margin-bottom: var(--spacing-blocks-vertical);
    margin-top: 0.7rem !important; /* Espa√ßo RESPIR√ÅVEL superior */
    color: white;
    overflow: hidden;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}

.section-title {
    font-size: 2.2rem;
    font-weight: 700;
    color: white;
    margin-bottom: 1.8rem;
    text-align: left;
    padding-left: 1rem;
    line-height: 1.2;
}

.chart-container {
    background: white;
    border-radius: 7px;
    padding: 1rem;
    box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    position: relative;
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.1);
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: visible;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

.chart-container:hover {
    transform: translateY(-3px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    border-color: rgba(5, 107, 241, 0.3);
}

/* Sidebar Header Simples */
.simple-sidebar-header {
    text-align: center;
    margin-bottom: 1.5rem;
    padding: 0.8rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    border-radius: 7px;
    transition: all 0.3s ease;
}

.sidebar-logo {
    height: 70px;
    width: auto;
    filter: brightness(0) saturate(100%) invert(1);
    margin-bottom: 1.5rem;
    display: block;
    transition: all 0.3s ease;
}

.sidebar-title {
    color: white;
    font-size: 1.35rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
    font-family: 'Poppins', sans-serif;
    line-height: 1.3;
    text-align: center;
    padding: 0 0.5rem;
    transition: all 0.3s ease;
}

.sidebar-subtitle {
    color: rgba(255, 255, 255, 0.85);
    font-size: 0.9rem;
    font-weight: 500;
    margin: 0;
    line-height: 1.4;
    text-align: center;
    padding: 0 0.5rem;
    font-style: italic;
    opacity: 0.85;
    transition: all 0.3s ease;
}

/* Filtros Mobile Toggle */
.mobile-filter-toggle {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1050;
    background: linear-gradient(135deg, #FF692B 0%, #ff7943 100%);
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    box-shadow: 0 8px 25px rgba(255, 105, 43, 0.4);
    color: white;
    font-size: 1.2rem;
    transition: all 0.3s ease;
}

/* Bot√£o de fechar filtro mobile */
.mobile-filter-close {
    display: none;
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 1051;
    background: rgba(18, 31, 75, 0.9);
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    color: #121F4B;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

@media (max-width: 768px) {
    .mobile-filter-toggle {
        display: flex !important;
        align-items: center;
        justify-content: center;
    }
    
    .mobile-filter-toggle:hover {
        box-shadow: 0 12px 35px rgba(255, 105, 43, 0.6);
    }
    
    /* CORRE√á√ÉO MOBILE: Card pai centraliza conte√∫do - M√ÅXIMA ESPECIFICIDADE */
    html body .rate-card.highlight-orange,
    html body .col-md-4 .rate-card.highlight-orange,
    html body .col-md-8 .rate-card.highlight-orange {
        display: flex !important;                 /* FLEX para centraliza√ß√£o */
        align-items: center !important;           /* CENTRALIZA VERTICALMENTE */
        justify-content: center !important;       /* CENTRALIZA HORIZONTALMENTE */
        height: 180px !important;
        min-height: 180px !important;
    }
    
    /* MOBILE: Container interno mant√©m layout horizontal */
    .simple-layout-container,
    html body .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-4 .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-8 .rate-card.highlight-orange .simple-layout-container {
        display: flex !important;
        flex-direction: row !important;          /* Logo + texto horizontal */
        align-items: center !important;          /* Centralizado verticalmente */
        justify-content: center !important;      /* BLOCO centralizado */
        gap: 0.6rem !important;                  /* Gap menor no mobile */
        padding: 0.8rem !important;
        margin: 0 auto !important;
        width: auto !important;
        max-width: 95% !important;
        height: auto !important;                 /* Altura autom√°tica */
        box-sizing: border-box !important;
    }
}
    
    /* Mostrar bot√£o de fechar no mobile */
    .mobile-filter-close {
        display: block !important;
    }
    
    .mobile-filter-close:hover {
        background: white;
        color: #FF692B;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        transform: scale(1.1);
    }
    
    /* Posi√ß√£o do bot√£o de fechar no contexto do filtro mobile */
    .col-md-3 .mobile-filter-close {
        position: fixed !important;
        top: 1rem !important;
        right: 1rem !important;
        z-index: 1052 !important;
        background: rgba(18, 31, 75, 0.95) !important;
        backdrop-filter: blur(10px) !important;
    }
}

/* Containers adaptativos baseados no conte√∫do */
.chart-container-rate {
    min-height: 140px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

/* === REGRA ANTIGA REMOVIDA - SISTEMA UNIFICADO IMPLEMENTADO === */

.chart-container-bar {
    min-height: clamp(380px, 40vh, 480px) !important;
    height: clamp(380px, 40vh, 480px) !important;
    padding: clamp(60px, 6vw, 80px) clamp(15px, 3vw, 25px) clamp(80px, 8vw, 100px) clamp(15px, 3vw, 25px) !important;
    overflow: visible !important;
    display: flex !important;
    flex-direction: column !important;
    transition: height 0.3s ease !important;
}

.chart-container-bar-wide {
    min-height: clamp(400px, 42vh, 520px) !important;
    height: clamp(400px, 42vh, 520px) !important;
    padding: clamp(60px, 6vw, 80px) clamp(15px, 3vw, 25px) clamp(90px, 9vw, 110px) clamp(15px, 3vw, 25px) !important;
    overflow: visible !important;
    display: flex !important;
    flex-direction: column !important;
    transition: height 0.3s ease !important;
}

/* === RESPONSIVIDADE INTELIGENTE POR BREAKPOINTS === */

/* Large screens (> 1200px) - Usar espa√ßo extra */
/* === REGRAS ANTIGAS REMOVIDAS - SISTEMA UNIFICADO IMPLEMENTADO ACIMA === */

/* Garantir que datalabels nunca sejam cortados */
.chart-container-bar canvas,
.chart-container-bar-wide canvas {
    max-height: calc(100% - 160px) !important;
    overflow: visible !important;
}

/* For√ßa containers de barras a nunca cortarem conte√∫do */
.chart-container-bar,
.chart-container-bar-wide {
    overflow: visible !important;
    contain: none !important;
}

/* Override espec√≠fico para elementos Chart.js */
.chart-container-bar .chartjs-render-monitor,
.chart-container-bar-wide .chartjs-render-monitor,
.chart-container-bar canvas,
.chart-container-bar-wide canvas {
    overflow: visible !important;
    clip: auto !important;
    clip-path: none !important;
}

/* === INDICADORES VISUAIS DE ADAPTA√á√ÉO === */

.chart-container.smart-adapted::before {
    content: "üì± Adaptado";
    position: absolute;
    top: 5px;
    right: 10px;
    background: #FF692B;
    color: white;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 7px;
    opacity: 0.8;
    z-index: 100;
    font-weight: 600;
}

/* Debug helper (remov√≠vel em produ√ß√£o) */
.chart-container.debug-space::after {
    content: attr(data-space-info);
    position: absolute;
    bottom: 5px;
    left: 10px;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 0.65rem;
    padding: 2px 6px;
    border-radius: 2px;
    font-family: monospace;
}

/* === MELHORIAS PARA ACESSIBILIDADE === */

@media (prefers-reduced-motion: reduce) {
    .chart-container,
    .chart-container canvas,
    .chart-container.adapting {
        transition: none !important;
    }
}

/* Melhor contraste em modo escuro */
@media (prefers-color-scheme: dark) {
    .chart-container {
        box-shadow: 0 15px 35px rgba(255,255,255,0.1);
    }
}

.chart-title {
    color: #121F4B;
    font-size: 1.35rem;
    font-weight: 700;
    font-family: 'Poppins', sans-serif;
    margin-bottom: 0.5rem;
    text-align: left;
    padding: 0 0.5rem;
    line-height: 1.3;
    position: relative;
    z-index: 1;
    width: 100%;
    box-sizing: border-box;
}

.chart-question {
    color: #121F4B;
    font-size: 0.9rem;
    font-weight: 400;
    font-family: 'Poppins', sans-serif;
    margin-bottom: 1rem;
    text-align: left;
    padding: 0 0.5rem;
    line-height: 1.4;
    position: relative;
    z-index: 1;
    width: 100%;
    box-sizing: border-box;
    font-style: italic;
    opacity: 0.8;
}

/* Garante que os t√≠tulos dos gr√°ficos n√£o sejam cortados no mobile */
@media (max-width: 768px) {
    .chart-title {
        padding: 0 1rem !important;
        margin-bottom: 0.8rem !important;
        font-size: 1rem !important;
    }
    
    .chart-question {
        padding: 0 1rem !important;
        margin-bottom: 0.8rem !important;
        font-size: 0.75rem !important;
    }
}

.rate-card {
    background: white;
    border-radius: 14px;
    padding: 2rem 1.5rem; /* Margem interna igual ao dashboard da loja */
    text-align: center;
    color: #121F4B;
    transition: all 0.3s ease;
    min-height: 230px;
    min-width: 200px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    border: none;
    position: relative;
    overflow: hidden;
    box-shadow: 0 12px 32px rgba(18, 31, 75, 0.3);
    margin: 1rem 0;
    box-sizing: border-box;
}

.rate-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #E65100, #FF6F00);
}

.rate-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    background: #D84315;
}

.rate-card:hover .rate-value {
    color: white !important;
}

.rate-card:hover .rate-title {
    color: white !important;
}

.rate-card:hover .rate-label {
    color: white !important;
    opacity: 0.9;
}

.rate-title {
    color: #121F4B;
    font-size: 1.35rem;
    font-weight: 700;
    font-family: 'Poppins', sans-serif;
    margin-bottom: 0.3rem;
    text-align: left;
    padding: 0 0.5rem;
    line-height: 1.3;
    order: 1;
}

.rate-label {
    font-size: 0.85rem;
    font-weight: 500;
    color: #121F4B;
    opacity: 0.7;
    line-height: 1.3;
    padding: 0 0.5rem;
    font-style: italic;
    margin-bottom: 1rem;
    order: 2;
    transition: all 0.3s ease;
}

.rate-value {
    font-size: 3rem;
    font-weight: 700;
    color: #121F4B !important;
    margin-bottom: 0;
    line-height: 1;
    padding: 0 0.5rem;
    transition: all 0.3s ease;
    order: 3;
}

/* === ANIMA√á√ÉO DE LOADING === */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.filters-container {
    display: contents !important;
    background: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
}

.filters-container h5 {
    color: #000000 !important;
    font-weight: 700;
    margin-bottom: 1rem;
    text-align: left;
    font-size: 1.1rem;
    text-shadow: none !important;
}

.filter-group {
    margin-bottom: 0.8rem;
}

.filter-group label {
    color: #121F4B !important;
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: block;
    text-shadow: none !important;
}

.form-select, .form-control {
    border: 2px solid #121F4B !important;
    background: white;
    color: #121F4B;
    font-weight: 500;
    border-radius: 2px;
    padding: 0.75rem;
    width: 100%;
    margin-bottom: 0.5rem;
}

.form-control::placeholder {
    color: rgba(255, 255, 255, 0.7) !important;
    opacity: 1;
}

.form-select:focus, .form-control:focus {
    background: rgba(18, 31, 75, 0.15);
    border-color: #FF692B;
    color: white;
    box-shadow: 0 0 0 0.2rem rgba(255, 105, 43, 0.25);
}

.form-select option {
    background: #163E64;
    color: white;
}

.btn-filter {
    background: linear-gradient(135deg, #FF692B 0%, #ff7943 100%);
    color: white;
    border: none;
    border-radius: 2px;
    padding: 0.6rem 1.2rem;
    font-weight: 600;
    transition: all 0.3s ease;
    width: 100%;
}

.btn-filter:hover {
    background: linear-gradient(135deg, #ff7943 0%, #FF692B 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 105, 43, 0.4);
}

.responses-card {
    background: #121F4B !important;
    color: white !important;
    border: none !important;
    padding: 2rem 1.5rem !important; /* Margem interna igual ao dashboard da loja */
    border-radius: 25px !important;
    min-height: 280px !important;
    position: relative !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 12px 32px rgba(18, 31, 75, 0.3) !important;
}

.responses-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(18, 31, 75, 0.4);
    z-index: 10;
}

.responses-card:hover .responses-number {
    transform: scale(1.1);
}

.responses-card:hover .responses-label {
    color: rgba(255, 255, 255, 0.95);
}

.responses-number {
    font-size: 3.5rem;
    font-weight: 700;
    color: white;
    margin-bottom: 0.5rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    z-index: 2;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.responses-label {
    font-size: 1.1rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.9);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    z-index: 2;
    letter-spacing: 0.5px;
}

/* === LAYOUT UNIFICADO E OTIMIZADO - ID√äNTICO √Ä LOJA === */

/* Container principal - CENTRALIZADO HORIZONTAL E VERTICAL - ESPECIFICIDADE M√ÅXIMA */
.simple-layout-container,
html body .rate-card.highlight-orange .simple-layout-container,
html body .col-md-4 .rate-card.highlight-orange .simple-layout-container,
html body .col-md-8 .rate-card.highlight-orange .simple-layout-container,
.rate-card .simple-layout-container,
.col-md-4 .rate-card .simple-layout-container,
.col-md-8 .rate-card .simple-layout-container,
.container .simple-layout-container,
.row .simple-layout-container,
.row.gx-3.gy-3 .simple-layout-container,
.gx-3.gy-3 .simple-layout-container {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important; /* CENTRALIZADO */
    height: 100% !important;
    width: auto !important; /* AUTO para n√£o ocupar 100% e permitir centraliza√ß√£o */
    max-width: 90% !important; /* M√°ximo 90% */
    gap: 8px !important; /* Gap vis√≠vel entre logo e texto */
    padding: 1rem !important; /* MARGENS IGUAIS */
    min-height: 210px !important;
    max-height: 210px !important;
    box-sizing: border-box !important;
    border: none !important;
    margin: 0 auto !important; /* MARGIN AUTO para centraliza√ß√£o horizontal */
    --bs-gutter-x: 0 !important; /* ANULA Bootstrap */
    --bs-gutter-y: 0 !important; /* ANULA Bootstrap */
}

/* ALTURA UNIFORME GARANTIDA - BLOCO DE T√çTULO = HIGHLIGHTS - M√ÅXIMA ESPECIFICIDADE - CENTRALIZADO */
.rate-card.highlight-orange,
html body .rate-card.highlight-orange,
html body .col-md-4 .rate-card.highlight-orange,
html body .col-md-8 .rate-card.highlight-orange {
    height: 210px !important;
    min-height: 210px !important;
    max-height: 210px !important;
    background: #121F4B !important;
    color: white !important;
    border: none !important;
    border-radius: 15px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important; /* PAI CENTRALIZADO */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
}

/* Mobile - altura igual aos highlights - M√ÅXIMA ESPECIFICIDADE */
@media (max-width: 768px) {
    .rate-card.highlight-orange,
    html body .col-md-4 .rate-card.highlight-orange,
    html body .col-md-8 .rate-card.highlight-orange {
        height: 180px !important;
        min-height: 180px !important;
        max-height: 180px !important;
        background: #121F4B !important;
    }
}

/* BLOCO UNIFICADO LOGO+TEXTO - CENTRALIZADO E DIN√ÇMICO - ESPECIFICIDADE M√ÅXIMA */
.logo-section,
html body .logo-section,
html body .rate-card.highlight-orange .logo-section,
html body .col-md-4 .rate-card.highlight-orange .logo-section,
html body .col-md-8 .rate-card.highlight-orange .logo-section,
html body .simple-layout-container .logo-section {
    flex: none !important;
    width: auto !important; /* DIN√ÇMICO baseado no logo */
    min-width: 60px !important; /* M√≠nimo para o logo */
    max-width: 25% !important; /* M√°ximo 25% do container */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    margin-right: 8px !important; /* Espa√ßamento visual entre logo e texto */
}

.highlight-logo-simple {
    height: 80px !important; /* LOGO MAIOR para preencher */
    width: auto !important;
    filter: brightness(0) invert(1) !important;
    max-width: 100% !important;
}

/* Textos - DIN√ÇMICO e FLEX√çVEL - ESPECIFICIDADE M√ÅXIMA */
.text-section,
html body .text-section,
html body .rate-card.highlight-orange .text-section,
html body .col-md-4 .rate-card.highlight-orange .text-section,
html body .col-md-8 .rate-card.highlight-orange .text-section,
html body .simple-layout-container .text-section {
    flex: 1 !important; /* FLEX√çVEL para ocupar espa√ßo restante */
    min-width: 0 !important; /* Permite encolhimento se necess√°rio */
    max-width: none !important; /* SEM LIMITA√á√ÉO - usa todo espa√ßo dispon√≠vel */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important; /* CENTRO VERTICAL - alinhado com logo */
    align-items: flex-start !important; /* Texto alinhado √† esquerda dentro da se√ß√£o */
    text-align: left !important; /* FOR√áAR TEXTO √Ä ESQUERDA */
    gap: 0.4rem !important; /* ESPA√áAMENTO ENTRE T√çTULO E SUBT√çTULO */
    height: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* T√≠tulos e subt√≠tulos - ALINHAMENTO √Ä ESQUERDA GARANTIDO */
.text-section .dashboard-title-main,
.text-section .maintainer-name-sub,
html body .text-section .dashboard-title-main,
html body .text-section .maintainer-name-sub {
    text-align: left !important;
    align-self: flex-start !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    /* REMOVIDO: white-space: nowrap - permite quebra natural quando necess√°rio */
    /* REMOVIDO: text-overflow: ellipsis - sem retic√™ncias desnecess√°rias */
}

/* Dashboard de Pais - t√≠tulo otimizado */
.dashboard-title-main {
    font-size: 1.8rem !important; /* T√çTULO MAIOR */
    font-weight: 700 !important;
    color: white !important;
    line-height: 1.1 !important;
    margin: 0 !important; /* REMOVIDO: eliminando separa√ß√£o */
}

/* Nome da mantenedora - subt√≠tulo otimizado */
.maintainer-name-sub {
    font-size: 1.1rem !important; /* SUBT√çTULO MAIOR */
    font-weight: 500 !important;
    color: rgba(255, 255, 255, 0.9) !important;
    line-height: 1.2 !important;
    margin: 0 !important; /* REMOVIDO: eliminando separa√ß√£o */
}

/* Mobile - layout HORIZONTAL otimizado - M√ÅXIMA ESPECIFICIDADE */
@media (max-width: 767px) {
    .simple-layout-container,
    html body .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-4 .rate-card.highlight-orange .simple-layout-container,
    html body .col-md-8 .rate-card.highlight-orange .simple-layout-container {
        flex-direction: row !important;         /* HORIZONTAL: logo √† esquerda + texto √† direita */
        align-items: center !important;         /* Centralizado verticalmente */
        justify-content: center !important;     /* Conjunto centralizado */
        text-align: left !important;
        gap: 0.8rem !important;                 /* GAP entre logo e texto */
        padding: 1rem !important;               /* Padding otimizado */
        min-height: auto !important;            /* Altura autom√°tica */
        width: auto !important;
        max-width: 90% !important;
        margin: 0 auto !important;              /* Centralizado horizontalmente */
        box-sizing: border-box !important;
    }
    
    .logo-section {
        flex: none !important;
        height: auto !important;
    }
    
    .text-section {
        flex: none !important;
        align-items: center !important;
        height: auto !important;
    }
    
    .highlight-logo-simple {
        height: 60px !important; /* LOGO MAIOR NO MOBILE */
    }
    
    .dashboard-title-main {
        font-size: 1.4rem !important; /* T√çTULO MAIOR NO MOBILE */
    }
    
    .maintainer-name-sub {
        font-size: 1rem !important; /* SUBT√çTULO MAIOR NO MOBILE */
    }
}

.text-response-card {
    background: white;
    border-radius: 2px;
    padding: 1.2rem;
    margin-bottom: 1rem;
    color: #121F4B;
    border-left: 4px solid #FF692B;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

/* .text-response-card::before - REFLEXO REMOVIDO */

.text-response-card:hover {
    transform: translateX(5px);
    border-left-color: white;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.response-text {
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 0.8rem;
    color: #121F4B;
}

.response-author {
    font-size: 0.8rem;
    color: #666;
    font-weight: 500;
    position: relative;
    padding-left: 1rem;
}

.response-author::before {
    content: '‚Äî';
    position: absolute;
    left: 0;
    color: #FF692B;
}

.demo-warning {
    background: linear-gradient(135deg, #ff9800 0%, #ff7043 100%);
    color: white;
    padding: 1rem;
    border-radius: 7px;
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 500;
    box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

/* Scrollbar para √°reas de texto */
.chart-container-text div[style*="overflow-y"] {
    scrollbar-width: thin;
    scrollbar-color: #FF692B rgba(255, 255, 255, 0.1);
}

.chart-container-text div[style*="overflow-y"]::-webkit-scrollbar {
    width: 6px;
}

.chart-container-text div[style*="overflow-y"]::-webkit-scrollbar-track {
    background: rgba(18, 31, 75, 0.1);
    border-radius: 2px;
}

.chart-container-text div[style*="overflow-y"]::-webkit-scrollbar-thumb {
    background: #FF692B;
    border-radius: 2px;
}

.chart-container-text div[style*="overflow-y"]::-webkit-scrollbar-thumb:hover {
    background: #ff7943;
}

/* Filtro mobile com design igual ao desktop */
.filters-sidebar {
    position: static;
    background: white;
    margin: 0;
    border-radius: 14px;
    padding: 1.5rem;
    width: calc(100vw - 2rem);
    max-width: none;
    height: calc(100vh - 2rem);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    border: 2px solid rgba(18, 31, 75, 0.1);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    margin: 1rem;
}

.simple-sidebar-header {
    text-align: center;
    margin-bottom: 1.5rem;
    padding: 1rem 1rem 1rem 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    flex-shrink: 0;
}

.sidebar-logo {
    height: 50px;
    margin-bottom: 0.5rem;
    filter: brightness(1.2);
}

.sidebar-title {
    color: white;
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.sidebar-subtitle {
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.9rem;
    margin: 0;
}

.filters-content {
    padding: 0 0.3rem 0.8rem 0.3rem;
    background: transparent;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.filters-content h5 {
    margin-bottom: 0.5rem;
}

.rate-card {
    min-height: 150px;
    min-width: 180px;
    padding: 1.5rem 1rem;
}

.responses-number {
    font-size: 2rem;
}

/* Pergunta do Gr√°fico */
.chart-question {
    color: #121F4B;
    font-size: 0.95rem;
    font-weight: 600;
    font-style: italic;
    margin-bottom: 1rem;
    text-align: left;
    line-height: 1.4;
    padding: 0 0.5rem;
    opacity: 0.85;
}

/* === BOOTSTRAP GUTTERS MASTER - BANNER ZERADO === */
.row.gx-3.gy-3 {
    --bs-gutter-x: var(--spacing-gutter-x) !important;
    --bs-gutter-y: var(--spacing-gutter-y) !important;
    margin-bottom: var(--spacing-blocks-vertical) !important;
}

/* === BANNER ROW - FOR√áA GUTTER ZERO === */
.dashboard-content > .row:first-of-type + .row.gx-3.gy-3 {
    --bs-gutter-y: 0 !important; /* ZERO GUTTER para highlights ap√≥s banner */
    margin-top: 0 !important;
    padding-top: 0 !important;
    row-gap: 0 !important; /* FOR√áA row-gap zero */
}

/* === BANNER COL - FOR√áA GUTTER ZERO === */
.dashboard-content > .row:first-of-type + .row.gx-3.gy-3 > .col-md-4,
.dashboard-content > .row:first-of-type + .row.gx-3.gy-3 > .col-md-8 {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* === BANNER ROW - FOR√áA ZERO TOTAL === */
.dashboard-content > .row:first-of-type {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

/* === BANNER COL - FOR√áA ZERO TOTAL === */
.dashboard-content > .row:first-of-type .col-12 {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

/* === RESET DE MARGEM PARA PRIMEIRO ROW === */
.dashboard-content > .row:first-of-type {
    margin-top: 0 !important; /* Banner n√£o precisa de margin-top */
}

/* === BANNER COLADO: CONTAINER DO BANNER === */
.dashboard-content > .row:first-of-type + .row.gx-3.gy-3 {
    margin-top: 0 !important; /* Remove margin extra ap√≥s banner - COLADO */
}

/* === BANNER COLADO: FOR√áA ZERO SPACING === */
.dashboard-banner {
    margin-bottom: 0 !important; /* Banner sem margin inferior */
    padding-bottom: 0 !important; /* Banner sem padding inferior */
}

/* === BANNER COLADO: HIGHLIGHTS SEM MARGIN SUPERIOR === */
.dashboard-content > .row:nth-child(2) {
    margin-top: 0 !important; /* Segundo row (highlights) sem margin superior */
    padding-top: 0 !important; /* Segundo row (highlights) sem padding superior */
    --bs-gutter-y: 0 !important; /* FOR√áA Bootstrap gutter zero */
    row-gap: 0 !important; /* FOR√áA row-gap zero */
    transform: translateY(-2px) !important; /* FOR√áA aproxima√ß√£o visual */
}

/* === BLOCOS RESPIR√ÅVEIS: HIGHLIGHTS ‚Üí SE√á√ïES === */
.row.gx-3.gy-3:has(.rate-card.highlight-orange) + h2 {
    margin-top: 0.7rem !important; /* Espa√ßo RESPIR√ÅVEL entre highlights e t√≠tulos */
}

/* === BLOCOS RESPIR√ÅVEIS: HIGHLIGHTS ‚Üí GRAFICOS === */
.row.gx-3.gy-3:has(.rate-card.highlight-orange) + .section-container {
    margin-top: 0.7rem !important; /* Espa√ßo RESPIR√ÅVEL entre highlights e gr√°ficos */
}

/* === BLOCOS RESPIR√ÅVEIS: HIGHLIGHTS GERAIS === */
.row.gx-3.gy-3 .rate-card {
    margin-bottom: 0 !important; /* Remove margin de todos os rate cards */
}

/* === BLOCOS RESPIR√ÅVEIS: T√çTULOS DE SE√á√ïES === */
.section-container h2 {
    margin-top: 0.7rem !important;
    margin-bottom: 0.7rem !important;
}

/* === BLOCOS RESPIR√ÅVEIS: QUALQUER ELEMENTO AP√ìS HIGHLIGHTS === */
.row.gx-3.gy-3 + * {
    margin-top: 0.7rem !important; /* Espa√ßamento RESPIR√ÅVEL ap√≥s qualquer row de highlights */
}

/* REMOVIDO: margin-bottom espec√≠fico para uniformizar com loja */

/* REMOVIDO: padding espec√≠fico - usando padr√µes por tipo de chart como na loja */

.chart-container-pie {
    height: 1600px !important;
    padding: clamp(30px, 5vw, 50px) !important;
    overflow: visible !important;
    display: flex !important;
    flex-direction: column !important;
    transition: height 0.3s ease !important;
}

.chart-container-bar {
    min-height: 360px !important;
    height: 360px !important;
    padding: 20px 20px 90px 20px !important;
}

.chart-container-bar-wide {
    min-height: 380px !important;
    height: 380px !important;
    padding: 20px 20px 100px 20px !important;
}

.chart-container-text {
    min-height: 280px !important;
    padding: 20px !important;
}

.chart-container canvas {
    max-height: calc(100% - 120px) !important;
    max-width: calc(100% - 10px) !important;
    margin: 10px auto !important;
}

.chart-container-pie canvas {
    max-height: calc(100% - 120px) !important;
    max-width: calc(100% - 10px) !important;
    margin: 10px auto !important;
}

.chart-container-bar canvas,
.chart-container-bar-wide canvas {
    max-height: calc(100% - 100px) !important;
    max-width: calc(100% - 10px) !important;
    margin: 10px auto !important;
}

/* √Årea principal do dashboard */
.col-md-9 {
    padding-left: 1rem;
    padding-right: 0;
}

@media (max-width: 767px) {
    .col-md-9 {
        padding-left: 15px;
        padding-right: 15px;
    }
}

/* Datalabels personalizados para valores nos gr√°ficos */
.chart-data-label {
    position: absolute;
    color: white;
    font-weight: 600;
    font-size: 12px;
    background: rgba(0, 0, 0, 0.8);
    padding: 4px 8px;
    border-radius: 2px;
    pointer-events: none;
    z-index: 10;
}

/* Responsividade melhorada */
@media (max-width: 1200px) {
    .main-container {
        max-width: 98%;
        padding: 1.5rem 0;
    }
    
    .chart-question {
        font-size: 0.8rem;
    }
    
    .dashboard-header h1 {
        font-size: 1rem;
    }
    
    .dashboard-header .subtitle {
        font-size: 0.75rem;
    }
}

@media (max-width: 768px) {
    .main-container {
        max-width: 100%;
        width: 100%;
        padding: 0.5rem 0.25rem;
        box-sizing: border-box;
    }
    
    .dashboard-header {
        position: static;
        margin-bottom: 1rem;
        padding: 1rem;
        top: 0;
    }
    
    .dashboard-header h1 {
        font-size: 1.1rem;
    }
    
    .dashboard-header .subtitle {
        font-size: 0.75rem;
    }
    
    .dashboard-header .logo {
        height: 30px;
    }
    
    .dashboard-header .d-flex {
        flex-direction: column;
        text-align: center;
    }
    
    .dashboard-header .d-flex .logo {
        margin: 0 auto 0.5rem auto !important;
    }
    
    .col-md-3 {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: white;
        z-index: 1040;
        padding: 0;
        margin: 0;
        overflow-y: auto;
        overflow-x: hidden;
        max-width: 100%;
        flex: none;
        box-sizing: border-box;
        transform: translateX(-100%);
        transition: transform 0.3s ease, opacity 0.3s ease;
        opacity: 0;
    }
    
    .col-md-9 {
        width: 100% !important;
        flex: 0 0 auto !important;
        max-width: 100% !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        box-sizing: border-box !important;
        overflow-x: hidden !important;
    }
    
    .col-md-3.show {
        display: block;
        transform: translateX(0);
        opacity: 1;
    }
    
    /* Sobrepor elementos para garantir que o filtro mobile apare√ßa sobre tudo */
    .col-md-3.show {
        z-index: 1045 !important;
    }
    
    .col-md-3.show .mobile-filter-close {
        z-index: 1046 !important;
    }
    
    /* Bot√£o de fechar posicionado sobre o header */
    .col-md-3 .mobile-filter-close {
        position: fixed !important;
        top: 1rem !important;
        right: 1rem !important;
        z-index: 1052 !important;
        background: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(10px) !important;
    }
    
    /* SOBRESCREVER TODAS AS REGRAS DO .sidebar-sticky NO MOBILE APENAS */
    .col-md-3 .sidebar-sticky {
        position: static !important;
        top: auto !important;
        background: transparent !important;
        border-radius: 0 !important;
        padding: 0 !important;
        box-shadow: none !important;
        border: none !important;
        margin: 0 !important;
        width: 100vw !important;
        max-width: 100vw !important;
        height: 100vh !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
    }
    
    /* IMPORTANTE: OVERRIDE APENAS NO MOBILE - DESKTOP MANT√âM STICKY */
    @media (min-width: 769px) {
        .col-md-3 .sidebar-sticky {
            position: sticky !important;
            top: 20px !important;
            background: white !important;
            border-radius: 20px !important;
            padding: 0.8rem !important;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2) !important;
            border: 2px solid rgba(18, 31, 75, 0.1) !important;
            margin: 0.5rem 0 !important;
            width: 100% !important;
            max-width: 100% !important;
            height: auto !important;
            overflow-y: auto !important;
            overflow-x: visible !important;
            z-index: 999 !important;
            transform: none !important;
            opacity: 1 !important;
            display: block !important;
        }
    }
    
    .filters-sidebar {
        position: static !important;
        background: white !important;
        margin: 0 !important;
        border-radius: 0 !important;
        padding: 1rem !important;
        width: 100% !important;
        max-width: 100% !important;
        height: 100vh !important;
        box-shadow: none !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        box-sizing: border-box !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
    }
    
    .simple-sidebar-header {
        text-align: center;
        margin-bottom: 1rem;
        padding: 1rem 0.5rem 0.5rem 0.5rem;
        border-bottom: 2px solid #121F4B;
        background: white !important;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        box-sizing: border-box;
        align-self: stretch;
    }
    
    .sidebar-logo {
        height: 50px;
        margin-bottom: 0.5rem;
        filter: brightness(1.2);
    }
    
    .sidebar-title {
        color: #121F4B;
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    
    .sidebar-subtitle {
        color: rgba(18, 31, 75, 0.7);
        font-size: 0.9rem;
        margin: 0;
    }
    
    .filters-content {
        padding: 0 0.5rem 1rem 0.5rem;
        background: transparent;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        align-self: stretch;
    }
    
    /* Garantir que o container azul funcione no mobile tamb√©m */
    .col-md-3.show .filters-container {
        margin: 0.3rem auto !important;
        border-radius: 7px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        width: calc(100% - 1rem) !important;
        max-width: calc(100% - 1rem) !important;
        box-sizing: border-box;
        display: block;
        padding: 1rem 1.2rem !important;
    }
    
    /* Garantir t√≠tulo branco no mobile tamb√©m */
    .col-md-3.show .filters-container h5 {
        color: white !important;
        text-shadow: none !important;
    }
    
    /* Garantir centraliza√ß√£o perfeita do bloco azul no mobile */
    .col-md-3.show .filters-content {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    /* FILTRO MOBILE CENTRALIZADO - M√ÅXIMA ESPECIFICIDADE */
    @media (max-width: 768px) {
        .col-md-3.show .sidebar-sticky .filters-sidebar .filters-content .filters-container,
        .col-md-3.show .filters-content .filters-container,
        .col-md-3.show .filters-container {
            padding: 1rem 1.3rem !important;
            width: calc(100% - 1rem) !important;
            max-width: calc(100% - 1rem) !important;
            margin: 0.5rem auto !important;
            margin-left: 0.5rem !important;
            margin-right: 0.5rem !important;
            background: linear-gradient(135deg, #121F4B 0%, #1a2b5f 100%) !important;
            border-radius: 15px !important;
        }
    }
    
    .col-md-3.show .filter-group {
        margin-bottom: 0.6rem !important;
    }
    
    .col-md-3.show .filter-group:last-child {
        margin-bottom: 0.2rem !important;
    }
    
    .col-md-3.show .filters-container h5 {
        font-size: 1rem !important;
        margin-bottom: 0.6rem !important;
    }
    
    .col-md-3.show .sidebar-logo {
        height: 45px !important;
        margin-bottom: 0.8rem !important;
    }
    
    .col-md-3.show .sidebar-title {
        font-size: 1.15rem !important;
        margin-bottom: 0.2rem !important;
    }
    
    .col-md-3.show .sidebar-subtitle {
        font-size: 0.8rem !important;
    }
    
    /* Inputs e bot√µes mais compactos no mobile */
    .col-md-3.show .form-select,
    .col-md-3.show .form-control {
        padding: 0.6rem !important;
        font-size: 0.9rem !important;
        margin-bottom: 0.3rem !important;
    }
    
    .col-md-3.show .btn-filter {
        padding: 0.5rem 1rem !important;
        font-size: 0.9rem !important;
    }
    
    .col-md-3.show .filter-group label {
        font-size: 0.9rem !important;
        margin-bottom: 0.2rem !important;
    }
    
    /* HOVER BOT√ÉO FILTRAR - M√ÅXIMA ESPECIFICIDADE MOBILE E DESKTOP */
    .col-md-3.show .filters-container .btn-filter:hover,
    .col-md-3 .filters-container .btn-filter:hover,
    .sidebar-sticky .filters-container .btn-filter:hover,
    .btn-filter:hover {
        background: linear-gradient(135deg, #ff7943 0%, #FF692B 100%) !important;
        border-color: #FF692B !important;
        box-shadow: 0 5px 15px rgba(255, 105, 43, 0.4) !important;
    }
    
    /* Container principal do filtro mobile super compacto */
    .col-md-3.show .filters-sidebar {
        background: white !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        margin: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: 0.5rem !important;
    }
    
    .section-container {
        padding: 1.5rem; /* Reduzido mas maior que o anterior 1rem */
        margin-bottom: 0.5rem;
        margin-left: 0.5rem;
        margin-right: 0.5rem;
        width: calc(100% - 1rem);
        max-width: calc(100% - 1rem);
        box-sizing: border-box;
        overflow-x: hidden;
    }
    
    /* Primeira se√ß√£o menor margem do topo */
    .section-container:first-of-type {
        margin-top: 0.2rem;
    }
    
    .chart-container {
        padding: 1rem 1.5rem !important;
        min-height: auto !important;
        overflow: visible !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* GR√ÅFICOS PIZZA MOBILE - M√ÅXIMA ESPECIFICIDADE */
    .section-container .chart-container.chart-container-pie,
    .col-md-6 .chart-container.chart-container-pie,
    div.chart-container.chart-container-pie {
        height: clamp(550px, 65vh, 650px) !important;
        padding: 35px 20px 45px 20px !important;
        overflow: visible !important;
        min-height: 550px !important;
    }
    
    .chart-container-bar {
        min-height: 340px !important;
        height: 340px !important;
        padding: 15px 20px 40px 20px !important;
        overflow: hidden !important;
    }
    
    .chart-container-bar-wide {
        min-height: 360px !important;
        height: 360px !important;
        padding: 15px 20px 45px 20px !important;
        overflow: hidden !important;
    }
    
    .chart-container-text {
        min-height: 280px !important;
        padding: 15px 20px !important;
    }
    
    .chart-container canvas {
        max-height: calc(100% - 80px) !important;
        max-width: 100% !important;
        width: 100% !important;
    }
    
    /* CANVAS GR√ÅFICOS PIZZA MOBILE - M√ÅXIMA ESPECIFICIDADE */
    @media (max-width: 768px) {
        .chart-container.chart-container-pie canvas,
        .section-container .chart-container-pie canvas,
        div.chart-container-pie canvas {
            max-height: calc(100% - 120px) !important;
            max-width: calc(100% - 10px) !important;
            width: auto !important;
            margin: 15px auto !important;
            overflow: visible !important;
        }
    }
    
    .chart-container-bar canvas,
    .chart-container-bar-wide canvas {
        max-height: calc(100% - 80px) !important;
        max-width: 100% !important;
        width: 100% !important;
    }
    
    .section-title {
        font-size: 1.5rem;
        padding: 0 0.5rem;
        margin-bottom: 1rem;
    }
    
    .chart-title {
        font-size: 1rem;
        padding: 0 1rem !important;
        margin-bottom: 0.8rem !important;
    }
    
    .chart-question {
        font-size: 0.75rem;
        margin-bottom: 0.8rem;
    }
    
    .rate-value {
        font-size: 2.2rem;
    }
    
    /* Garantir que n√£o h√° sobreposi√ß√£o de elementos */
    .container-fluid.main-container {
        position: relative;
        z-index: 1;
    }
    
    /* ESPA√áAMENTOS VERTICAIS UNIFORMES - M√ÅXIMA ESPECIFICIDADE MOBILE */
    @media (max-width: 768px) {
        .container-fluid.main-container,
        div.main-container {
            padding-top: 0.5rem !important;
            padding-bottom: 0.5rem !important;
        }
        
        .col-md-9 .section-container:first-of-type,
        .section-container:first-of-type {
            margin-top: 0.5rem !important;
        }
        
        .col-md-9 .section-container,
        div.section-container {
            margin-bottom: 0.5rem !important;
            margin-top: 0.5rem !important;
            margin-left: 1rem !important;
            margin-right: 1rem !important;
            width: calc(100% - 2rem) !important;
            max-width: calc(100% - 2rem) !important;
        }
    }
    
    /* TOTAL DE RESPOSTAS MOBILE - M√ÅXIMA ESPECIFICIDADE */
    @media (max-width: 768px) {
        .col-md-9 .responses-card,
        div.responses-card {
            margin-bottom: 0.5rem !important;
            margin-left: 1rem !important;
            margin-right: 1rem !important;
            margin-top: 0.2rem !important;
            padding: 1.5rem 1rem !important;
            width: calc(100% - 2rem) !important;
            max-width: calc(100% - 2rem) !important;
            box-sizing: border-box !important;
        }
    }
    
    /* Garantir que o row funcione corretamente */
    .row {
        margin-left: 0;
        margin-right: 0;
        width: 100%;
        max-width: 100%;
    }
    
    .row > * {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }
    
    /* Estilos espec√≠ficos do filtro mobile fullscreen */
    .col-md-3.show .simple-sidebar-header {
        padding-top: 1rem;
        margin-bottom: 1rem;
        background: white !important;
        border-bottom: 2px solid #121F4B !important;
    }
    
    .col-md-3.show .filters-content {
        padding: 0 0.5rem 1rem 0.5rem;
        background: transparent !important;
        margin: 0 !important;
        width: 100% !important;
        box-sizing: border-box !important;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    /* Filtro mobile com fundo branco igual ao desktop */
    .col-md-3.show .filters-sidebar {
        background: white !important;
        border-radius: 20px !important;
        box-shadow: 0 15px 35px rgba(0,0,0,0.1) !important;
    }
    
    /* Container principal do filtro mobile com fundo branco */
    .col-md-3.show {
        background: white !important;
    }
    
    /* M√°xima especificidade para o fundo branco do filtro mobile */
    @media (max-width: 768px) {
        .col-md-3.show .filters-sidebar {
            background: white !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            margin: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
        }
        
        .col-md-3.show .sidebar-sticky .filters-sidebar {
            background: white !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            margin: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
        }
        
        .col-md-3.show .sidebar-sticky {
            background: white !important;
            overflow-x: hidden !important;
        }
    }
    
    /* Campos de filtro no mobile herdam do .filters-container */
    .col-md-3 .filter-group {
        margin-bottom: 0.8rem;
    }
    
    /* √öltimo grupo de filtros (bot√£o) com menos espa√ßo */
    .col-md-3 .filter-group:last-child {
        margin-bottom: 0.3rem;
    }
    
    /* Container azul ultra compacto no desktop - M√ÅXIMA ESPECIFICIDADE */
    @media (min-width: 769px) {
        .col-md-3 .sidebar-sticky .filters-content .filters-container {
            padding: 0.6rem 0.8rem !important;
            margin: 0 auto !important;
            width: 100% !important;
            max-width: 100% !important;
        }
    }
    
    /* Espa√ßamento entre grupos de filtros mais compacto no desktop */
    .filter-group {
        margin-bottom: 0.6rem !important;
    }
    
    .filter-group:last-child {
        margin-bottom: 0.3rem !important;
    }
    
    /* Header mais compacto no desktop */
    .simple-sidebar-header {
        margin-bottom: 0.5rem !important;
        padding: 0.4rem 0 !important;
    }
    
    /* T√≠tulo h5 mais compacto no desktop */
    .filters-container h5 {
        margin-bottom: 0.8rem !important;
    }
    
    /* Conte√∫do dos filtros mais compacto no desktop */
    .filters-content {
        padding: 0 0.1rem 0.3rem 0.1rem !important;
    }
    
    /* Logo menor no desktop */
    .sidebar-logo {
        height: 55px !important;
        margin-bottom: 0.6rem !important;
    }
    
    /* Textos mais compactos no desktop */
    .sidebar-title {
        font-size: 1.2rem !important;
        margin-bottom: 0.3rem !important;
    }
    
    .sidebar-subtitle {
        font-size: 0.85rem !important;
        margin-bottom: 0 !important;
    }
    
    /* Container branco ligeiramente maior que o azul no desktop */
    .sidebar-sticky {
        padding: 0.1rem !important;
    }
    
    /* Bot√£o de filtro mais compacto no desktop */
    .btn-filter {
        padding: 0.5rem 1rem !important;
        font-size: 0.9rem !important;
    }
    
    /* Inputs mais compactos no desktop */
    .form-select, .form-control {
        padding: 0.6rem !important;
        font-size: 0.9rem !important;
    }
    
    /* Labels mais compactas no desktop */
    .filter-group label {
        font-size: 0.9rem !important;
        margin-bottom: 0.3rem !important;
    }
    
    /* T√≠tulo "Filtros de Dados" mais compacto no desktop */
    .filters-container h5 {
        font-size: 0.95rem !important;
        margin-bottom: 0.4rem !important;
    }
}

/* === MELHORIAS PARA TOOLTIPS E GR√ÅFICOS === */

/* Estados de carregamento aprimorados - complementa .chart-container existente */

.chart-loading {
    position: relative;
}

.chart-loading canvas {
    opacity: 0.3;
    transition: opacity 0.3s ease;
}

.chart-loading::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 40px;
    height: 40px;
    margin: -20px 0 0 -20px;
    border: 3px solid rgba(255, 105, 43, 0.3);
    border-top: 3px solid #FF692B;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 10;
}

.chart-loaded {
    position: relative;
}

.chart-loaded::before {
    display: none;
}

.chart-loaded canvas {
    opacity: 1;
}

.chart-error {
    position: relative;
}

.chart-error::after {
    content: '‚ùå Erro ao carregar gr√°fico';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(220, 53, 69, 0.9);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 2px;
    font-size: 0.8rem;
    z-index: 10;
}

/* Canvas espec√≠fico - CORRIGIDO */
canvas {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
    z-index: 1 !important;
    position: relative !important;
    box-sizing: border-box !important;
}

/* ESPA√áAMENTOS EQUILIBRADOS DESKTOP - HARMONIA VISUAL - SEM QUEBRAR STICKY */
@media (min-width: 769px) {
    .col-md-3 {
        /* REMOVIDO: overflow-x: hidden !important; - QUEBRA O STICKY */
        overflow: visible !important;
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    .col-md-9 {
        /* REMOVIDO: overflow-x: hidden !important; - QUEBRA O STICKY */
        overflow: visible !important;
        padding-right: 0.5rem !important;
        padding-left: 0.5rem !important;
    }
    
    .main-container {
        /* REMOVIDO: overflow-x: hidden !important; - QUEBRA O STICKY */
        overflow: visible !important;
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    /* Margens equilibradas - mesmo espa√ßamento em todos os lados */
    .section-container {
        margin-left: 0;
        margin-right: 0;
    }
    
    .responses-card {
        margin-left: 0;
        margin-right: 0;
        margin-top: 2rem;
        overflow: visible;
        position: relative;
        z-index: 5;
    }
    
    .responses-card:hover {
        z-index: 15;
        overflow: visible;
    }
    
    /* Garantir que o filtro desktop n√£o tenha margens excessivas */
    .filters-container {
        margin: 0.3rem auto !important;
        width: calc(100% - 0.6rem) !important;
        max-width: calc(100% - 0.6rem) !important;
    }
}

canvas:hover {
    cursor: pointer;
}

/* Tooltip personalizado */
.chartjs-tooltip {
    opacity: 1;
    position: absolute;
    background: rgba(255, 255, 255, 0.98);
    color: #121F4B;
    border-radius: 2px;
    padding: 8px 12px;
    pointer-events: none;
    transform: translate(-50%, 0);
    transition: all 0.1s ease;
    z-index: 1000 !important;
}

.chart-container canvas {
    flex-grow: 1;
    max-height: 100% !important;
    max-width: 100% !important;
    width: 100% !important;
    pointer-events: auto !important;
    cursor: pointer;
    z-index: 1 !important;
    position: relative !important;
}

.debug-tooltip {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px;
    border-radius: 2px;
    font-size: 12px;
    z-index: 9999;
    font-family: monospace;
}

/* Header do filtro mobile sem barra azul desnecess√°ria */
.col-md-3 .simple-sidebar-header {
    padding-top: 2rem !important;
    position: relative;
}

/* === CORRE√á√ÉO DEFINITIVA DOS EIXOS HORIZONTAIS DOS GR√ÅFICOS DE BARRA === */
/* For√ßa espa√ßo suficiente para eixos horizontais com m√°xima especificidade */
.chart-container.chart-container-bar,
div.chart-container.chart-container-bar,
.chart-container.chart-container-bar-wide,
div.chart-container.chart-container-bar-wide {
    padding-bottom: 70px !important;
    min-height: 380px !important;
}

@media (max-width: 768px) {
    .chart-container.chart-container-bar,
    div.chart-container.chart-container-bar,
    .chart-container.chart-container-bar-wide,
    div.chart-container.chart-container-bar-wide {
        padding-bottom: 45px !important;
        min-height: 320px !important;
    }
}

/* === M√ÅXIMA ESPECIFICIDADE PARA SOBRESCREVER TODOS OS CONFLITOS === */
@media (max-width: 768px) {
    /* Containers principais mobile */
    body .col-md-9 .section-container,
    body .col-md-9 .responses-card {
        margin-left: 0.5rem !important;
        margin-right: 0.5rem !important;
        width: calc(100% - 1rem) !important;
    }
    
    /* Filtro mobile super compacto */
    body .col-md-3.show .filters-container {
        width: calc(100% - 0.6rem) !important;
        margin: 0.1rem auto !important;
        padding: 1rem 1.3rem !important;
    }
    
    /* Gr√°ficos pizza com altura correta */
    body .chart-container.chart-container-pie {
        height: 550px !important;
        min-height: 550px !important;
        padding: 35px 15px 70px 15px !important;
        overflow: visible !important;
    }
}

@media (min-width: 769px) {
    /* Desktop filtro compacto */
    body .col-md-3 .filters-container {
        padding: 0.6rem 0.8rem !important;
        margin: 0 auto !important;
    }
    
    /* Desktop container branco m√≠nimo - MANT√âM STICKY */
    body .col-md-3 .sidebar-sticky {
        padding: 0.8rem !important;
        position: -webkit-sticky !important;
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
    }
    
    /* ESPA√áAMENTOS HARMONIOSOS - FOR√áA M√ÅXIMA */
    html body .container-fluid {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-3 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-9 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-9 .section-container,
    html body .container-fluid .row .col-md-9 .responses-card {
        margin-left: 0 !important;
        margin-right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
    }
}

/* === FOR√áA ABSOLUTA FINAL - SOBRESCREVE ABSOLUTAMENTE TUDO === */
html body .container-fluid .row .col-md-3.show .sidebar-sticky .filters-sidebar .filters-content .filters-container {
    width: calc(100% - 0.6rem) !important;
    margin: 0.1rem auto !important;
    padding: 1rem 1.3rem !important;
    background: linear-gradient(135deg, #121F4B 0%, #1a2b5f 100%) !important;
}

html body .container-fluid .row .col-md-9 .section-container {
    width: calc(100% - 1rem) !important;
    margin-left: 0.5rem !important;
    margin-right: 0.5rem !important;
}

html body .container-fluid .row .col-md-9 .responses-card {
    width: calc(100% - 1rem) !important;
    margin-left: 0.5rem !important;
    margin-right: 0.5rem !important;
}

html body .section-container .chart-container.chart-container-pie,
html body .col-md-6 .chart-container.chart-container-pie {
    height: 750px !important;
    min-height: 750px !important;
    padding: 40px 20px 45px 20px !important;
    overflow: visible !important;
}

html body .btn-filter:hover,
html body .sidebar-sticky .btn-filter:hover,
html body .filters-container .btn-filter:hover {
    background: linear-gradient(135deg, #ff7943 0%, #FF692B 100%) !important;
    border-color: #FF692B !important;
    box-shadow: 0 5px 15px rgba(255, 105, 43, 0.4) !important;
}

    /* ESPA√áAMENTOS EQUILIBRADOS - FOR√áA ABSOLUTA */
@media (min-width: 769px) {
    html body .container-fluid {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row {
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
    
    html body .container-fluid .row .col-md-3 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-9 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-9 .section-container {
        margin-left: 0 !important;
        margin-right: 0 !important;
        margin-top: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-9 .responses-card {
        margin-left: 0 !important;
        margin-right: 0 !important;
        margin-top: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    html body .main-container {
        padding-left: 0 !important;
        padding-right: 0 !important;
        padding-top: 0.5rem !important;
        padding-bottom: 0.5rem !important;
    }
    
    /* Harmonia visual perfeita */
    html body .container-fluid .row .col-md-3,
    html body .container-fluid .row .col-md-9 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    html body .container-fluid .row .col-md-9 .section-container,
    html body .container-fluid .row .col-md-9 .responses-card {
        width: 100% !important;
        max-width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
    
    /* Primeira se√ß√£o do desktop com espa√ßamento uniformizado */
    html body .container-fluid .row .col-md-9 .section-container:first-of-type {
        margin-top: 0.5rem !important;
    }
    
    /* Total de Respostas desktop com espa√ßamento uniformizado */
    html body .container-fluid .row .col-md-9 .responses-card:first-of-type {
        margin-top: 0.5rem !important;
    }
}

/* CENTRALIZA√á√ÉO PERFEITA DO FILTRO MOBILE - FOR√áA ABSOLUTA */
@media (max-width: 768px) {
    /* Container principal do filtro mobile */
    html body .col-md-3.show {
        padding: 0 !important;
        margin: 0 !important;
        width: 100vw !important;
        max-width: 100vw !important;
        left: 0 !important;
        right: 0 !important;
        box-sizing: border-box !important;
    }
    
    /* Filtro sidebar mobile */
    html body .col-md-3.show .filters-sidebar {
        padding: 0.5rem !important;
        margin: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* Conte√∫do dos filtros mobile */
    html body .col-md-3.show .filters-content {
        padding: 0 0.5rem 1rem 0.5rem !important;
        margin: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* Container azul centralizado */
    html body .col-md-3.show .filters-container {
        margin: 0.5rem auto !important;
        margin-left: 0.5rem !important;
        margin-right: 0.5rem !important;
        width: calc(100% - 1rem) !important;
        max-width: calc(100% - 1rem) !important;
        padding: 1rem 1.3rem !important;
        box-sizing: border-box !important;
        position: relative !important;
        left: 0 !important;
        right: 0 !important;
    }
    
    /* Sidebar sticky mobile */
    html body .col-md-3.show .sidebar-sticky {
        padding: 0.5rem !important;
        margin: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
}

/* ALTURA PADRONIZADA DOS RATE-CARDS - M√ÅXIMA ESPECIFICIDADE */
/* Desktop */
@media (min-width: 769px) {
    .rate-card {
        height: 210px !important;
        min-height: 210px !important;
        max-height: 210px !important;
    }
}

/* Tablet */
@media (min-width: 577px) and (max-width: 768px) {
    .rate-card {
        height: 190px !important;
        min-height: 190px !important;
        max-height: 190px !important;
    }
}

/* Mobile */
@media (max-width: 576px) {
    .rate-card {
        height: 180px !important;
        min-height: 180px !important;
        max-height: 180px !important;
    }
}

/* Garantir que o conte√∫do se ajuste corretamente */
html body .rate-card {
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    box-sizing: border-box !important;
}

html body .rate-card .rate-title {
    flex: 0 0 auto !important;
    margin-bottom: 0.5rem !important;
}

html body .rate-card .rate-label {
    flex: 1 1 auto !important;
    margin-bottom: 0.5rem !important;
}

html body .rate-card .rate-value {
    flex: 0 0 auto !important;
    margin-bottom: 0 !important;
}

/* DISTRIBUI√á√ÉO PERFEITA DO CONTE√öDO NOS RATE-CARDS */
/* === RATE CARD MASTER - ESPA√áAMENTO COMPACTO === */
html body .rate-card {
    padding: 1.5rem 1.3rem !important; /* Desktop padding igual ao dashboard da loja */
    justify-content: space-between !important;
    align-items: flex-start !important;
}

html body .rate-card .rate-title {
    font-size: 1.25rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.3rem !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
}

html body .rate-card .rate-label {
    font-size: 0.8rem !important;
    line-height: 1.2 !important;
    margin-bottom: 0.8rem !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 3 !important;
    -webkit-box-orient: vertical !important;
}

html body .rate-card .rate-value {
    font-size: 2.8rem !important;
    line-height: 1 !important;
    margin-top: auto !important;
    margin-bottom: 0 !important;
}

/* Responsividade do conte√∫do */
@media (max-width: 768px) {
    /* === RATE CARD MOBILE MASTER === */
    html body .rate-card {
        padding: 1.2rem 1rem !important; /* Mobile padding igual ao dashboard da loja */
    }
    
    html body .rate-card .rate-title {
        font-size: 1.1rem !important;
    }
    
    html body .rate-card .rate-label {
        font-size: 0.75rem !important;
    }
    
    html body .rate-card .rate-value {
        font-size: 2.4rem !important;
    }
}

/* ALTURA UNIFORME GARANTIDA - FOR√áA M√ÅXIMA */
html body .section-container .row .col-md-4 .rate-card,
html body .section-container .rate-card,
html body .rate-card {
    height: 210px !important;
    min-height: 210px !important;
    max-height: 210px !important;
}

@media (max-width: 768px) {
    html body .section-container .row .col-md-4 .rate-card,
    html body .section-container .rate-card,
    html body .rate-card {
        height: 180px !important;
        min-height: 180px !important;
        max-height: 180px !important;
    }
}

/* Garantir que todos os cards em uma linha tenham a mesma altura */
html body .section-container .row {
    align-items: stretch !important;
}

html body .section-container .row .col-md-4 {
    display: flex !important;
    align-items: stretch !important;
}

html body .section-container .row .col-md-4 .rate-card {
    width: 100% !important;
    flex: 1 !important;
}

/* GR√ÅFICOS PIZZA TAMANHO IDEAL - FOR√áA ABSOLUTA */
@media (min-width: 769px) {
    html body .section-container .chart-container.chart-container-pie,
    html body .col-md-6 .chart-container.chart-container-pie,
    html body .chart-container.chart-container-pie,
    div.chart-container.chart-container-pie {
        height: 750px !important;
        min-height: 750px !important;
        max-height: 750px !important;
        padding: 40px 20px 45px 20px !important;
        overflow: visible !important;
    }
}

@media (min-width: 1201px) {
    html body .section-container .chart-container.chart-container-pie,
    html body .col-md-6 .chart-container.chart-container-pie,
    html body .chart-container.chart-container-pie,
    div.chart-container.chart-container-pie {
        height: 850px !important;
        min-height: 850px !important;
        max-height: 850px !important;
    }
}

@media (min-width: 993px) and (max-width: 1200px) {
    html body .section-container .chart-container.chart-container-pie,
    html body .col-md-6 .chart-container.chart-container-pie,
    html body .chart-container.chart-container-pie,
    div.chart-container.chart-container-pie {
        height: 800px !important;
        min-height: 800px !important;
        max-height: 800px !important;
    }
}

@media (min-width: 769px) and (max-width: 992px) {
    html body .section-container .chart-container.chart-container-pie,
    html body .col-md-6 .chart-container.chart-container-pie,
    html body .chart-container.chart-container-pie,
    div.chart-container.chart-container-pie {
        height: 700px !important;
        min-height: 700px !important;
        max-height: 700px !important;
    }
}

/* MOBILE COM GR√ÅFICOS PIZZA MAIORES */
@media (max-width: 768px) {
    html body .section-container .chart-container.chart-container-pie,
    html body .col-md-6 .chart-container.chart-container-pie,
    html body .chart-container.chart-container-pie,
    div.chart-container.chart-container-pie {
        height: clamp(550px, 65vh, 650px) !important;
        min-height: 550px !important;
        max-height: 650px !important;
        padding: 30px 15px 80px 15px !important;
        display: flex !important;
        flex-direction: column !important;
        overflow: visible !important;
        position: relative !important;
        z-index: 1 !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    html body .chart-container.chart-container-pie canvas {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        width: 100% !important;
        height: auto !important;
    }
    
    html body .chart-container.chart-container-pie .chart-title,
    html body .chart-container.chart-container-pie .chart-question {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}

/* Garantir que os canvas se ajustem aos containers maiores */
html body .chart-container.chart-container-pie canvas,
html body .section-container .chart-container-pie canvas {
    max-height: calc(100% - 120px) !important;
    max-width: calc(100% - 10px) !important;
    height: auto !important;
    overflow: visible !important;
}

/* AJUSTES FINAIS PARA GR√ÅFICOS PIZZA 200% MAIORES */
html body .chart-container.chart-container-pie {
    overflow: visible !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
}

html body .chart-container.chart-container-pie .chart-title {
    margin-bottom: 1rem !important;
    font-size: 1.4rem !important;
}

html body .chart-container.chart-container-pie .chart-question {
    margin-bottom: 1.5rem !important;
    font-size: 1rem !important;
}

/* Garantir que containers se adaptem aos gr√°ficos maiores */
@media (min-width: 769px) {
    html body .section-container {
        overflow: visible !important;
        min-height: auto !important;
    }
    
    html body .section-container .row .col-md-6 {
        overflow: visible !important;
        min-height: auto !important;
    }
}

/* Garantir scroll suave quando necess√°rio */
@media (max-width: 768px) {
    html body .section-container {
        overflow-x: hidden !important;
        overflow-y: visible !important;
    }
}

@media (min-width: 769px) {
    
    html body .container-fluid .row .col-md-3 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
        width: 20% !important;
        max-width: 20% !important;
    }
    
    html body .container-fluid .row .col-md-9 {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
        width: 80% !important;
        max-width: 80% !important;
    }
}

/* Melhorias nos t√≠tulos dos gr√°ficos pizza - margem de seguran√ßa no mobile */
@media (max-width: 768px) {
    .chart-container.chart-container-pie .chart-title {
        margin-top: 20px !important;
        margin-bottom: 10px !important;
        padding-top: 15px !important;
        font-size: 1.1rem !important;
    }
    
    .chart-container.chart-container-pie .chart-question {
        margin-bottom: 15px !important;
        font-size: 0.85rem !important;
        padding: 0 10px !important;
    }
}

/* Quebra de texto nas legendas */
.chart-container canvas {
    /* Garantir que as legendas quebrem o texto adequadamente */
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
}



/* Legendas HTML customizadas - layout em colunas */
.chart-container .custom-legend {
    margin-top: 15px !important;
    padding: 10px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
    gap: 8px !important;
    align-items: start !important;
}

.chart-container .custom-legend .legend-item {
    display: flex !important;
    align-items: center !important;
    margin: 0 !important;
    padding: 8px 12px !important;
    cursor: pointer !important;
    border-radius: 6px !important;
    transition: all 0.2s ease !important;
    min-height: 40px !important;
    box-sizing: border-box !important;
    width: 100% !important;
}

.chart-container .custom-legend .legend-item:hover {
    background-color: rgba(18, 31, 75, 0.08) !important;
    transform: translateX(2px) !important;
}

.chart-container .custom-legend .legend-item span {
    flex: 1 !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    line-height: 1.3 !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
    white-space: pre-line !important;
    margin-left: 0 !important;
    color: #121F4B !important;
    text-align: left !important;
}

.chart-container .custom-legend .legend-item .legend-color {
    width: 16px !important;
    height: 16px !important;
    min-width: 16px !important;
    max-width: 16px !important;
    min-height: 16px !important;
    max-height: 16px !important;
    border-radius: 50% !important;
    flex-shrink: 0 !important;
    margin-right: 12px !important;
    display: block !important;
    box-sizing: border-box !important;
    border: 2px solid rgba(0,0,0,0.1);
}

/* Estilo para legendas com tachado */
.chart-container .custom-legend .legend-item.legend-hidden {
    opacity: 0.5 !important;
    background-color: rgba(153, 153, 153, 0.1) !important;
}

.chart-container .custom-legend .legend-item.legend-hidden span {
    color: #666666 !important;
    text-decoration: line-through !important;
    font-style: italic !important;
}



/* Responsividade das legendas customizadas */
@media (max-width: 768px) {
    .chart-container .custom-legend {
        padding: 8px 4px !important;
        margin-top: 12px !important;
        grid-template-columns: 1fr !important; /* Uma coluna no mobile */
        gap: 6px !important;
    }
    
    .chart-container .custom-legend .legend-item {
        min-height: 36px !important;
        padding: 6px 10px !important;
    }
    
    .chart-container .custom-legend .legend-item span {
        font-size: 14px !important;
        line-height: 1.3 !important;
    }
}

@media (min-width: 769px) and (max-width: 1200px) {
    .chart-container .custom-legend {
        grid-template-columns: repeat(2, 1fr) !important; /* Duas colunas em tablets */
    }
}

@media (min-width: 1201px) {
    .chart-container .custom-legend {
        grid-template-columns: repeat(3, 1fr) !important; /* Tr√™s colunas em desktop */
    }
}

/* === SISTEMA LIMPO E EST√ÅVEL PARA GR√ÅFICOS PIZZA === */

/* Corrigir bolinhas distorcidas - solu√ß√£o definitiva */
.chart-container .custom-legend .legend-item .legend-color {
    width: 16px !important;
    height: 16px !important;
    min-width: 16px !important;
    max-width: 16px !important;
    min-height: 16px !important;
    max-height: 16px !important;
    border-radius: 50% !important;
    flex-shrink: 0 !important;
    margin-right: 12px !important;
    display: block !important;
    box-sizing: border-box !important;
    border: 2px solid rgba(0,0,0,0.1);
}

/* Container principal com Flexbox */
.chart-container.chart-container-pie {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    align-items: center !important;
    overflow: visible !important;
    box-sizing: border-box !important;
}

/* T√≠tulo e Pergunta fixos */
.chart-container.chart-container-pie .chart-title,
.chart-container.chart-container-pie .chart-question {
    flex-shrink: 0 !important;
    text-align: left !important;
    width: 100% !important;
    padding: 0 1.5rem !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

/* Canvas adaptativo sem altura fixa */
.chart-container.chart-container-pie canvas {
    flex-grow: 1 !important;
    flex-shrink: 1 !important;
    width: 100% !important;
    max-width: 100% !important;
    height: 100% !important;
    margin: 1rem auto !important;
    display: block !important;
}

/* Legendas com scroll */
.chart-container .custom-legend {
    flex-shrink: 0 !important;
    margin-top: 15px !important;
    padding: 10px !important;
    width: 100% !important;
    max-height: 250px !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
    gap: 8px !important;
}

/* Regras removidas - causavam conflitos */

/* Responsividade mobile - ajustado para containers maiores */
@media (max-width: 768px) {
    .chart-container .custom-legend {
        grid-template-columns: 1fr !important;
        max-height: 300px !important;
        padding: 15px !important;
    }
    
    /* Garantir que canvas ocupe espa√ßo adequado no mobile */
    .chart-container.chart-container-pie canvas {
        min-height: 280px !important;
        max-height: 450px !important;
    }
    
    /* Ajustes espec√≠ficos para mobile - tudo dentro dos containers */
    .chart-container.chart-container-pie {
        overflow: hidden !important;
        box-sizing: border-box !important;
    }
    
    /* T√≠tulos e perguntas com espa√ßo controlado no mobile */
    .chart-container.chart-container-pie .chart-title {
        font-size: 1.1rem !important;
        margin-bottom: 0.5rem !important;
        padding: 0 1rem !important;
        line-height: 1.3 !important;
        max-height: 60px !important;
        overflow: hidden !important;
    }
    
    .chart-container.chart-container-pie .chart-question {
        font-size: 0.9rem !important;
        margin-bottom: 1rem !important;
        padding: 0 1rem !important;
        line-height: 1.4 !important;
        max-height: 80px !important;
        overflow: hidden !important;
    }
    
    /* Legendas com espa√ßamento otimizado no mobile */
    .chart-container .custom-legend .legend-item {
        padding: 6px 8px !important;
        margin: 2px 0 !important;
        min-height: 32px !important;
    }
    
    .chart-container .custom-legend .legend-item span {
        font-size: 13px !important;
        line-height: 1.2 !important;
    }
}

@media (min-width: 769px) and (max-width: 1200px) {
    .chart-container .custom-legend {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (min-width: 1201px) {
    .chart-container .custom-legend {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

/* Scroll suave para legendas grandes */
.chart-container .custom-legend::-webkit-scrollbar {
    width: 6px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.1) !important;
    border-radius: 3px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-thumb {
    background: #FF692B !important;
    border-radius: 3px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-thumb:hover {
    background: #e55a26 !important;
}

/* Regras duplicadas removidas */


/* Scroll suave para legendas grandes */
.chart-container .custom-legend::-webkit-scrollbar {
    width: 6px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.1) !important;
    border-radius: 3px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-thumb {
    background: #FF692B !important;
    border-radius: 3px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-thumb:hover {
    background: #e55a26 !important;
}

/* === SISTEMA UNIFICADO E DEFINITIVO PARA GR√ÅFICOS PIZZA === */

/* Container principal - altura baseada em viewport e breakpoints */
@media (min-width: 1201px) {
    .chart-container.chart-container-pie { 
        height: 650px !important;
        min-height: 650px !important;
        padding: 1.5rem !important;
    }
}

@media (min-width: 993px) and (max-width: 1200px) {
    .chart-container.chart-container-pie { 
        height: 600px !important;
        min-height: 600px !important;
        padding: 1.5rem !important;
    }
}

@media (min-width: 769px) and (max-width: 992px) {
    .chart-container.chart-container-pie {
        height: 550px !important;
        min-height: 550px !important;
        padding: 1.5rem !important;
    }
}

@media (min-width: 577px) and (max-width: 768px) {
    .chart-container.chart-container-pie {
        height: 500px !important;
        min-height: 500px !important;
        padding: 1.5rem !important;
    }
}

@media (max-width: 576px) {
    .chart-container.chart-container-pie {
        height: 450px !important;
        min-height: 450px !important;
        padding: 1rem !important;
    }
}

/* Layout Flexbox otimizado */
.chart-container.chart-container-pie {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    align-items: center !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* T√≠tulo - espa√ßo fixo otimizado */
.chart-container.chart-container-pie .chart-title {
    flex-shrink: 0 !important;
    text-align: left !important;
    width: 100% !important;
    margin-bottom: 0.5rem !important;
    font-size: clamp(1rem, 2.5vw, 1.3rem) !important;
    line-height: 1.2 !important;
    max-height: 40px !important;
    overflow: hidden !important;
    padding: 0 0.5rem !important;
}

/* Pergunta - espa√ßo fixo otimizado */
.chart-container.chart-container-pie .chart-question {
    flex-shrink: 0 !important;
    text-align: left !important;
    width: 100% !important;
    margin-bottom: 0.75rem !important;
    font-size: clamp(0.8rem, 2vw, 0.95rem) !important;
    line-height: 1.3 !important;
    max-height: 50px !important;
    overflow: hidden !important;
    padding: 0 1.5rem !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

/* Canvas - espa√ßo calculado dinamicamente com aspect ratio preservado */
.chart-container.chart-container-pie canvas {
    flex-grow: 1 !important;
    flex-shrink: 1 !important;
    width: auto !important;
    max-width: 100% !important;
    height: auto !important;
    margin: 0.5rem auto !important;
    display: block !important;
    min-height: 180px !important;
    max-height: calc(100% - 160px) !important;
    aspect-ratio: 1 / 1 !important;
}

/* Legendas - espa√ßo fixo com scroll */
.chart-container .custom-legend {
    flex-shrink: 0 !important;
    width: 100% !important;
    max-height: 120px !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    margin-top: 0.5rem !important;
    padding: 0.5rem !important;
    box-sizing: border-box !important;
    display: grid !important;
    gap: 4px !important;
}

/* Responsividade das legendas */
@media (min-width: 1201px) {
    .chart-container .custom-legend {
        grid-template-columns: repeat(3, 1fr) !important;
        max-height: 140px !important;
    }
}

@media (min-width: 769px) and (max-width: 1200px) {
    .chart-container .custom-legend {
        grid-template-columns: repeat(2, 1fr) !important;
        max-height: 130px !important;
    }
}

@media (max-width: 768px) {
    .chart-container .custom-legend {
        grid-template-columns: 1fr !important;
        max-height: 110px !important;
        padding: 0.4rem !important;
    }
    
    /* Ajustes espec√≠ficos do canvas no mobile */
    .chart-container.chart-container-pie canvas {
        max-height: calc(100% - 140px) !important;
        min-height: 160px !important;
    }
    
    /* Ajustes dos textos no mobile */
    .chart-container.chart-container-pie .chart-title {
        font-size: 0.95rem !important;
        max-height: 35px !important;
    }
    
    .chart-container.chart-container-pie .chart-question {
        font-size: 0.8rem !important;
        max-height: 45px !important;
    }
}

/* Itens das legendas otimizados */
.chart-container .custom-legend .legend-item {
    display: flex !important;
    align-items: center !important;
    padding: 3px 5px !important;
    margin: 1px 0 !important;
    cursor: pointer !important;
    border-radius: 3px !important;
    transition: all 0.2s ease !important;
    min-height: 24px !important;
    box-sizing: border-box !important;
}

.chart-container .custom-legend .legend-item:hover {
    background-color: rgba(18, 31, 75, 0.08) !important;
}

.chart-container .custom-legend .legend-item span {
    flex: 1 !important;
    font-size: clamp(10px, 1.5vw, 12px) !important;
    font-weight: 500 !important;
    line-height: 1.2 !important;
    word-wrap: break-word !important;
    white-space: pre-line !important;
    color: #121F4B !important;
    margin-left: 0 !important;
}

/* Bolinhas das legendas - sempre perfeitas */
.chart-container .custom-legend .legend-item .legend-color {
    width: 12px !important;
    height: 12px !important;
    min-width: 12px !important;
    max-width: 12px !important;
    min-height: 12px !important;
    max-height: 12px !important;
    border-radius: 50% !important;
    flex-shrink: 0 !important;
    margin-right: 6px !important;
    display: block !important;
    border: 1px solid rgba(0,0,0,0.15) !important;
    box-sizing: border-box !important;
}

/* Scroll customizado para legendas */
.chart-container .custom-legend::-webkit-scrollbar {
    width: 3px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.1) !important;
    border-radius: 2px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-thumb {
    background: #FF692B !important;
    border-radius: 2px !important;
}

.chart-container .custom-legend::-webkit-scrollbar-thumb:hover {
    background: #e55a26 !important;
}

/* Estados das legendas */
.chart-container .custom-legend .legend-item.legend-hidden {
    opacity: 0.5 !important;
    background-color: rgba(153, 153, 153, 0.1) !important;
}

.chart-container .custom-legend .legend-item.legend-hidden span {
    color: #666666 !important;
    text-decoration: line-through !important;
    font-style: italic !important;
}

/* === SOLU√á√ÉO DEFINITIVA - M√ÅXIMA ESPECIFICIDADE === */
/* Estas regras sobrescrevem TODAS as duplicadas acima */

/* For√ßar aplica√ß√£o do sistema unificado com especificidade m√°xima */
html body .chart-container.chart-container-pie,
html body .section-container .chart-container.chart-container-pie,
html body .col-md-6 .chart-container.chart-container-pie,
html body .container-fluid .row .col-md-9 .chart-container.chart-container-pie {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    align-items: center !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* Alturas definitivas com m√°xima especificidade */
@media (min-width: 1201px) {
    html body .chart-container.chart-container-pie,
    html body .section-container .chart-container.chart-container-pie {
        height: 650px !important;
        min-height: 650px !important;
        padding: 1.5rem !important;
    }
}

@media (min-width: 993px) and (max-width: 1200px) {
    html body .chart-container.chart-container-pie,
    html body .section-container .chart-container.chart-container-pie {
        height: 600px !important;
        min-height: 600px !important;
        padding: 1.5rem !important;
    }
}

@media (min-width: 769px) and (max-width: 992px) {
    html body .chart-container.chart-container-pie,
    html body .section-container .chart-container.chart-container-pie {
        height: 550px !important;
        min-height: 550px !important;
        padding: 1.5rem !important;
    }
}

@media (min-width: 577px) and (max-width: 768px) {
    html body .chart-container.chart-container-pie,
    html body .section-container .chart-container.chart-container-pie {
        height: 500px !important;
        min-height: 500px !important;
        padding: 1.5rem !important;
    }
}

@media (max-width: 576px) {
    html body .chart-container.chart-container-pie,
    html body .section-container .chart-container.chart-container-pie {
        height: 450px !important;
        min-height: 450px !important;
        padding: 1rem !important;
    }
}

/* Canvas definitivo com m√°xima especificidade - CORRIGIDO PARA EVITAR DISTOR√á√ÉO */
html body .chart-container.chart-container-pie canvas,
html body .section-container .chart-container.chart-container-pie canvas {
    flex-grow: 1 !important;
    flex-shrink: 1 !important;
    width: auto !important;
    max-width: 100% !important;
    height: auto !important;
    margin: 0.5rem auto !important;
    display: block !important;
    min-height: 180px !important;
    max-height: calc(100% - 160px) !important;
    aspect-ratio: 1 / 1 !important;
}

/* Legendas definitivas com m√°xima especificidade */
html body .chart-container .custom-legend,
html body .section-container .chart-container .custom-legend {
    flex-shrink: 0 !important;
    width: 100% !important;
    max-height: 120px !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    margin-top: 0.5rem !important;
    padding: 0.5rem !important;
    box-sizing: border-box !important;
    display: grid !important;
    gap: 4px !important;
}

/* Responsividade final com m√°xima especificidade */
@media (min-width: 1201px) {
    html body .chart-container .custom-legend {
        grid-template-columns: repeat(3, 1fr) !important;
        max-height: 140px !important;
    }
}

@media (min-width: 769px) and (max-width: 1200px) {
    html body .chart-container .custom-legend {
        grid-template-columns: repeat(2, 1fr) !important;
        max-height: 130px !important;
    }
}

@media (max-width: 768px) {
    html body .chart-container .custom-legend {
        grid-template-columns: 1fr !important;
        max-height: 110px !important;
        padding: 0.4rem !important;
    }
    
    html body .chart-container.chart-container-pie canvas {
        max-height: calc(100% - 140px) !important;
        min-height: 160px !important;
    }
    
    html body .chart-container.chart-container-pie .chart-title {
        font-size: 0.95rem !important;
        max-height: 35px !important;
    }
    
    html body .chart-container.chart-container-pie .chart-question {
        font-size: 0.8rem !important;
        max-height: 45px !important;
    }
}

/* === FILTRO FLUTUANTE - M√ÅXIMA ESPECIFICIDADE === */
/* Garante que o filtro seja sempre flutuante/sticky */
html body .col-md-3 .sidebar-sticky,
html body .container-fluid .row .col-md-3 .sidebar-sticky,
html body .main-container .row .col-md-3 .sidebar-sticky {
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 20px !important;
    z-index: 999 !important;
    display: block !important;
    overflow: visible !important;
    max-height: calc(100vh - 40px) !important;
    overflow-y: auto !important;
    background: white !important;
    border-radius: 20px !important;
    padding: 0.8rem !important;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2) !important;
    border: 2px solid rgba(18, 31, 75, 0.1) !important;
    margin: 0.5rem 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
}

/* Garantir sticky em todas as telas desktop - ANULAR REGRAS DE MOBILE */
@media (min-width: 769px) {
    html body .col-md-3 .sidebar-sticky,
    html body .container-fluid .row .col-md-3 .sidebar-sticky,
    html body .main-container .row .col-md-3 .sidebar-sticky,
    html body .col-md-3:not(.show) .sidebar-sticky {
        position: -webkit-sticky !important;
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
        max-height: calc(100vh - 40px) !important;
        overflow-y: auto !important;
        
        /* ANULAR REGRAS DE MOBILE QUE QUEBRAM STICKY */
        height: auto !important;
        width: 100% !important;
        max-width: 100% !important;
        background: white !important;
        border-radius: 20px !important;
        padding: 0.8rem !important;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2) !important;
        border: 2px solid rgba(18, 31, 75, 0.1) !important;
        margin: 0.5rem 0 !important;
        
        /* IMPORTANTE: REMOVER TRANSFORMS QUE QUEBRAM STICKY */
        transform: none !important;
        opacity: 1 !important;
        display: block !important;
        overflow-x: visible !important;
    }
    
    /* OVERRIDE CR√çTICO - ANULAR position: static DO MOBILE */
    html body .col-md-3 .sidebar-sticky {
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
        transform: none !important;
        opacity: 1 !important;
    }
}

/* REGRA DE EMERG√äNCIA - M√ÅXIMA ESPECIFICIDADE PARA DESKTOP */
@media (min-width: 769px) {
    html body .container-fluid .main-container .row .col-md-3 .sidebar-sticky {
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
        transform: none !important;
        opacity: 1 !important;
    }
}

/* ===== SOLU√á√ÉO DEFINITIVA - FOR√áA OVERFLOW VISIBLE EM TODOS OS CONTAINERS ===== */
@media (min-width: 769px) {
    /* FOR√áAR OVERFLOW VISIBLE EM TODOS OS CONTAINERS PAIS */
    html, 
    html body,
    html body .container-fluid,
    html body .main-container,
    html body .row,
    html body .col-md-3 {
        overflow: visible !important;
        overflow-x: visible !important;
        overflow-y: visible !important;
        contain: none !important;
        transform: none !important;
        will-change: auto !important;
    }
    
    /* STICKY FINAL COM FOR√áA M√ÅXIMA */
    html body .container-fluid .main-container .row .col-md-3 .sidebar-sticky {
        position: -webkit-sticky !important;
        position: sticky !important;
        top: 20px !important;
        z-index: 999 !important;
        display: block !important;
        transform: none !important;
        opacity: 1 !important;
        contain: none !important;
        will-change: auto !important;
        max-height: calc(100vh - 40px) !important;
        overflow-y: auto !important;
        overflow-x: visible !important;
    }
}

/* Sistema de Filtro Lateral Deslizante - Copiado exatamente da loja */
.sidebar-filter-container {
    position: fixed;
    top: 84px !important;
    left: 0;
    height: calc(100vh - 100px) !important;
    z-index: 1100 !important;
    display: flex;
    align-items: stretch;
    pointer-events: none;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Painel do filtro - estrutura simples com lingueta integrada */
.sidebar-filter-panel {
    width: calc(50vw + 40px); /* Inclui a lingueta na largura */
    max-width: 540px; /* 500px + 40px da lingueta */
    min-width: 390px; /* 350px + 40px da lingueta */
    height: 100%;
    background: white; /* Alterado para branco */
    transform: translateX(calc(-100% + 40px)); /* Deixa s√≥ a lingueta (40px direitos) vis√≠vel */
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
    pointer-events: auto;
    overflow-y: auto;
    overflow-x: hidden;
    position: relative;
    /* Bordas arredondadas apenas do lado direito */
    border-radius: 0 20px 20px 0;
    border: none; /* Remover borda para lingueta transparente */
}

/* Lingueta criada como pseudo-elemento - TRANSPARENTE com apenas √≠cone */
.sidebar-filter-panel::after {
    content: '';
    position: absolute;
    right: 0;
    top: var(--floating-icon-top, 50%);
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: transparent;
    border-radius: 0 20px 20px 0 !important;
    cursor: pointer;
    pointer-events: auto;
    z-index: 1001;
    /* √çcone de filtro transparente flutuante */
    background-image: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(0,0,0,0.7)"><path d="M4.25 6.5a.75.75 0 0 0 0 1.5h15.5a.75.75 0 0 0 0-1.5H4.25zM6 12a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 12zm3.5 5.25a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5z"/></svg>');
    background-repeat: no-repeat;
    background-position: center;
    background-size: 24px 24px;
    border: none;
    box-shadow: none;
}

/* CORRE√á√ÉO: Remover hover da lingueta para padronizar com loja */
/* .sidebar-filter-panel:hover::after removido */

/* MANT√âM √≠cone de filtro original */
.sidebar-filter-container.open .sidebar-filter-panel::after {
    background-image: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(0,0,0,0.7)"><path d="M4.25 6.5a.75.75 0 0 0 0 1.5h15.5a.75.75 0 0 0 0-1.5H4.25zM6 12a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 12zm3.5 5.25a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5z"/></svg>');
}

/* X SEPARADO no topo direito da aba quando aberta */
.sidebar-filter-container.open .sidebar-filter-panel::before {
    content: '√ó';
    position: absolute;
    top: 8px;
    right: 8px;
    width: 24px;
    height: 24px;
    background: rgba(255,255,255,0.9);
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: bold;
    color: rgba(0,0,0,0.7);
    cursor: pointer;
    z-index: 1001;
    transition: all 0.2s ease;
}

.sidebar-filter-container.open .sidebar-filter-panel::before:hover {
    background: rgba(255,255,255,1);
    color: rgba(0,0,0,0.9);
    transform: scale(1.1);
}

/* REMOVER a lingueta separada - n√£o √© mais necess√°ria */
.sidebar-filter-tab {
    display: none !important;
}

/* Estado aberto - todo o painel desliza para a direita */
.sidebar-filter-container.open .sidebar-filter-panel {
    transform: translateX(0);
}

/* Conte√∫do do filtro - padding para n√£o ficar embaixo da lingueta */
/* === SIDEBAR CONTENT MASTER - COMPACTO === */
.sidebar-filter-content {
    padding: var(--spacing-sidebar-content);
    padding-right: 4rem; /* Espa√ßo para a lingueta na direita */
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* Header do filtro */
.sidebar-filter-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
}

.sidebar-filter-title {
    color: black; /* Alterado para preto */
    font-size: 1.95rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    text-align: center;
    font-family: 'Poppins', sans-serif;
}

.sidebar-filter-close {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.sidebar-filter-close:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
}

/* √Årea de filtros */
.sidebar-filter-form {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* Reduzido de 1rem para 0.5rem */
}

/* Labels dos filtros - branco e maior */
.sidebar-filter-form .filter-label {
    color: black; /* Alterado para preto */
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: block;
    font-family: 'Poppins', sans-serif;
}

/* Campos dos filtros - branco com texto preto */
.sidebar-filter-form .custom-dropdown {
    margin-bottom: 0.25rem; /* Reduzido de 0.5rem para 0.25rem */
}

.sidebar-filter-form .dropdown-trigger {
    background: white;
    color: black; /* Texto preto */
    border: 2px solid #e0e0e0; /* Contorno */
    border-radius: 14px;
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    position: relative;
}

.sidebar-filter-form .dropdown-trigger:hover {
    border-color: #056BF1; /* Contorno azul no hover */
    background: #f8f9ff; /* Fundo levemente azul no hover */
}

.sidebar-filter-form .dropdown-text {
    color: black; /* Texto preto */
    font-weight: 500;
}

.sidebar-filter-form .dropdown-trigger i {
    color: black; /* √çcone preto */
}

/* Dropdown content - fundo branco */
.sidebar-filter-form .dropdown-content {
    background: white;
    border: 2px solid #e0e0e0; /* Contorno */
    border-radius: 14px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    color: black; /* Texto preto */
}

.sidebar-filter-form .dropdown-option {
    color: black; /* Texto preto */
    background: white;
    border-bottom: 1px solid #f0f0f0;
}

.sidebar-filter-form .dropdown-option:last-child {
    border-bottom: none !important;
}

/* Hover cinza claro */
.sidebar-filter-form .dropdown-option:hover {
    background: #f5f5f5 !important;
    color: #333 !important;
}

.sidebar-filter-form .dropdown-option.selected,
.sidebar-filter-form .dropdown-option[data-selected="true"] {
    background: #056BF1;
    color: white;
}

.sidebar-filter-form .dropdown-option .option-check {
    color: #056BF1;
}

.sidebar-filter-form .filter-hint {
    color: black; /* Alterado para preto */
    font-size: 0.85rem;
    margin-top: 0.25rem;
    font-style: italic;
}

/* Bot√µes de a√ß√£o do filtro */
.sidebar-filter-actions {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 2px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.sidebar-filter-actions .btn {
    border-radius: 7px;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

.sidebar-filter-actions .btn-filter {
    background: #1a365d !important; /* Azul escuro */
    color: white !important;
    border: 2px solid #1a365d !important;
    border-radius: 12px !important;
    padding: 0.75rem 1.5rem !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 4px 12px rgba(26, 54, 93, 0.25) !important;
}

.sidebar-filter-actions .btn-filter:hover {
    background: #2c5282 !important; /* Azul escuro mais claro no hover */
    color: white !important;
    border: 2px solid #2c5282 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 20px rgba(26, 54, 93, 0.4) !important;
}

.sidebar-filter-form .btn-clear {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 14px;
    font-weight: 600;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.95rem;
    box-shadow: 0 4px 12px rgba(220, 53, 69, 0.25);
    cursor: pointer;
    margin-top: 0.5rem;
}

.sidebar-filter-form .btn-clear:hover {
    background: linear-gradient(135deg, #c82333 0%, #a71e2a 100%);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(220, 53, 69, 0.5);
}

/* Overlay para escurecer o fundo */
.sidebar-filter-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    pointer-events: none;
}

.sidebar-filter-overlay.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

/* === WRAPPER MASTER - ESTRUTURA BOOTSTRAP COMPENSADA === */
.main-content-wrapper {
    margin-left: var(--spacing-filter-lateral) !important; /* Espa√ßo master para a lingueta */
    margin-right: 1.5rem !important; /* ADICIONADO: Espa√ßo direito para compensar Bootstrap */
    padding-left: 1rem !important; /* ADICIONADO: Padding interno para separar do filtro */
    transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.main-content-wrapper.filter-open {
    margin-left: 0; /* Remove espa√ßo quando aberto (sobreposi√ß√£o) */
}

/* Mobile responsivo */
@media (max-width: 768px) {
    .sidebar-filter-panel {
        width: 100vw;
        max-width: none;
        min-width: none;
        transform: translateX(-100%);
    }
    
    .sidebar-filter-panel::after {
        width: 36px;
        border-radius: 0 14px 14px 0 !important;
        background-size: 20px 20px;
    }
    
    .sidebar-filter-tab {
        display: none !important;
    }
    
    .sidebar-filter-content {
        padding: 1rem;
    }
    
    .sidebar-filter-actions {
        padding: 1rem 0;
    }
    
    .sidebar-filter-title {
        font-size: 1.5rem;
    }
    
    .sidebar-filter-form .filter-label {
        font-size: 1.1rem;
    }
    
    .main-content-wrapper {
        transform: none;
    }
}

@media (max-width: 480px) {
    .sidebar-filter-panel {
        border-radius: 0;
    }
    
    .sidebar-filter-tab {
        display: none !important;
    }
    
    .sidebar-filter-title {
        font-size: 1.3rem;
    }
    
    .sidebar-filter-form .filter-label {
        font-size: 1rem;
    }
}

/* Indicador de filtros ativos */
.sidebar-filter-tab .filter-indicator {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #ff4757;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: bold;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.sidebar-filter-tab .filter-indicator.active {
    opacity: 1;
    visibility: visible;
}

/* Bot√£o mobile de filtro */
.mobile-filter-button {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: linear-gradient(135deg, #056BF1 0%, #0550D1 100%);
    color: white;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 1.2rem;
    box-shadow: 0 4px 15px rgba(5, 107, 241, 0.3);
    cursor: pointer;
    z-index: 1002;
    transition: all 0.3s ease;
}

.mobile-filter-button:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(5, 107, 241, 0.4);
}

@media (max-width: 480px) {
    .mobile-filter-button {
        display: flex;
        align-items: center;
        justify-content: center;
        bottom: 20px;
        right: 15px;
        width: 50px;
        height: 50px;
        font-size: 1rem;
    }
}

/* Ocultar colunas antigas de filtro */
.col-md-3 {
    display: none !important;
}

.col-md-9 {
    width: 100% !important;
    max-width: 100% !important;
}

/* Prevenir scroll quando filtro aberto */
body.filter-open {
    overflow: hidden;
}

/* Scrollbar customizada removida para padronizar com loja */
.sidebar-filter-panel::-webkit-scrollbar {
    width: 0px;
    display: none;
}

.sidebar-filter-panel::-webkit-scrollbar-track {
    background: transparent;
}

.sidebar-filter-panel::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 0px;
}

.sidebar-filter-panel::-webkit-scrollbar-thumb:hover {
    background: transparent;
}

/* Bot√£o Filtrar - for√ßar azul escuro */
.sidebar-filter-actions .btn-filter,
.sidebar-filter-form .btn-filter,
button.btn-filter,
input[type="submit"].btn-filter,
form .btn-filter,
div .btn-filter {
    background: #1a365d !important; /* Azul escuro */
    color: white !important;
    border: 2px solid #1a365d !important;
    border-radius: 12px !important;
    padding: 0.75rem 1.5rem !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 4px 12px rgba(26, 54, 93, 0.25) !important;
}

.sidebar-filter-actions .btn-filter:hover,
.sidebar-filter-form .btn-filter:hover,
button.btn-filter:hover,
input[type="submit"].btn-filter:hover,
form .btn-filter:hover,
div .btn-filter:hover {
    background: #2c5282 !important; /* Azul escuro mais claro no hover */
    color: white !important;
    border: 2px solid #2c5282 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 20px rgba(26, 54, 93, 0.4) !important;
}

/* Sistema de Dropdowns Customizados - Copiado da loja */
.custom-dropdown {
    position: relative;
    width: 100%;
}

.dropdown-trigger {
    width: 100%;
    padding: 0.75rem 1rem;
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 7px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    font-size: 1rem;
    color: #333;
}

.dropdown-trigger:hover {
    border-color: #056BF1;
    background: #f8f9ff;
}

.dropdown-trigger.active {
    border-color: #056BF1;
    background: #f8f9ff;
}

.dropdown-text {
    flex: 1;
    text-align: left;
    color: #333;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.dropdown-trigger i {
    transition: transform 0.3s ease;
    color: #666;
}

.dropdown-trigger.active i {
    transform: rotate(180deg);
}

.dropdown-content {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid #e0e0e0;
    border-top: none;
    border-radius: 0 0 15px 15px;
    max-height: 200px;
    overflow-y: auto;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.dropdown-content.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-option {
    padding: 0.75rem 1rem;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.2s ease;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
}

.dropdown-option:last-child {
    border-bottom: none;
}

.dropdown-option:hover {
    background: #f5f5f5;
    color: #333;
}

.dropdown-option.selected {
    background: #056BF1;
    color: white;
}

.dropdown-option.selected:hover {
    background: #0550D1;
    color: white;
}

.dropdown-option.disabled {
    color: #999;
    cursor: not-allowed;
}

.dropdown-option.disabled:hover {
    background: transparent;
    color: #999;
}

.option-text {
    flex: 1;
    text-align: left;
}

.option-check {
    opacity: 0;
    transition: opacity 0.2s ease;
}

.dropdown-option.selected .option-check {
    opacity: 1;
}

/* Scrollbar para dropdown */
.dropdown-content::-webkit-scrollbar {
    width: 6px;
}

.dropdown-content::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 2px;
}

.dropdown-content::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 2px;
}

.dropdown-content::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.5);
}

/* Labels dos filtros */
.filter-label {
    display: block;
    margin-bottom: 0.5rem;
    color: #333;
    font-weight: 600;
    font-size: 1rem;
}

.filter-hint {
    font-size: 0.85rem;
    color: #666;
    margin-top: 0.25rem;
    font-style: italic;
}

.filter-group {
    margin-bottom: 1rem;
}

/* Mobile responsivo */
@media (max-width: 768px) {
    .dropdown-content {
        max-height: 150px;
    }
    
    .dropdown-option {
        padding: 0.6rem 0.8rem;
    }
    
    .dropdown-trigger {
        padding: 0.6rem 0.8rem;
        font-size: 0.9rem;
    }
}

/* For√ßar estilos de sele√ß√£o */
.dropdown-option[data-selected="true"] {
    background: #056BF1 !important;
    color: white !important;
}

.dropdown-option[data-selected="true"]:hover {
    background: #0550D1 !important;
    color: white !important;
}

.dropdown-option[data-selected="true"] .option-check {
    opacity: 1 !important;
    color: white !important;
}

.dropdown-option.selected {
    background: #056BF1 !important;
    color: white !important;
}

.dropdown-option.selected:hover {
    background: #0550D1 !important;
    color: white !important;
}

.dropdown-option.selected .option-check {
    opacity: 1 !important;
    color: white !important;
}

.dropdown-text {
    font-size: 1rem;
    font-weight: 500;
    color: #333;
    text-align: left;
    flex: 1;
    margin-right: 0.5rem;
}

/* === BANNER MASTER - TOTALMENTE COLADO === */
.dashboard-banner {
    width: 100%;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    line-height: 0 !important;
    text-align: center;
}

/* === BANNER COLADO: ROW AP√ìS BANNER === */
.dashboard-banner + .row.gx-3.gy-3 {
    margin-top: var(--spacing-first-row) !important; /* BANNER COLADO aos highlights */
}

/* === BLOCOS RESPIR√ÅVEIS: HIGHLIGHTS ‚Üí GR√ÅFICOS === */
.rate-card.highlight-orange {
    margin-bottom: 0 !important; /* Remove margin do bloco de t√≠tulo */
}

/* === BLOCOS RESPIR√ÅVEIS: ENTRE SE√á√ïES === */
h2 + .row.gx-3.gy-3 {
    margin-top: 0.7rem !important; /* Espa√ßo RESPIR√ÅVEL ap√≥s t√≠tulos de se√ß√£o */
}

/* === ALINHAMENTO FINO: ROWS SUBSEQUENTES === */
.row.gx-3.gy-3 + .row.gx-3.gy-3 {
    margin-top: var(--spacing-between-rows) !important; /* Espa√ßo consistente entre blocos */
}

/* === ALINHAMENTO FINO: BLOCO T√çTULO HIGHLIGHT === */
.rate-card.highlight-orange {
    margin-bottom: 0 !important; /* Remove margin extra do bloco de t√≠tulo */
}

.banner-image {
    width: 100%;
    height: auto;
    max-height: none !important; /* Remove limita√ß√£o de altura */
    object-fit: contain !important; /* Mant√©m propor√ß√£o sem cortar */
    border-radius: 7px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    margin: 0 !important;
    padding: 0 !important;
    vertical-align: top !important;
    line-height: 0 !important;
    display: block;
}

/* === REMOVIDO - CONFLITO COM DEFINI√á√ÉO PRINCIPAL === */

/* Hover removido do bloco de t√≠tulo conforme solicitado */

.rate-card.highlight-orange .dashboard-title-main,
.rate-card.highlight-orange .maintainer-name-sub {
    color: white !important;
}

.rate-card.highlight-orange .highlight-logo-simple {
    filter: brightness(0) invert(1) !important;
}

/* Total de Respostas - azul escuro sem borda branca */
.responses-card {
    background: #121F4B !important;
    color: white !important;
    border: none !important;
    padding: 2rem 1.5rem !important; /* Margem interna igual ao dashboard da loja */
    border-radius: 25px !important;
    min-height: 280px !important;
    position: relative !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 12px 32px rgba(18, 31, 75, 0.3) !important;
}

.responses-card:hover {
    transform: translateY(-8px) !important;
    box-shadow: 0 20px 40px rgba(18, 31, 75, 0.4) !important;
}

.responses-card .responses-number,
.responses-card .responses-label {
    color: white !important;
}

.responses-card:hover .responses-number,
.responses-card:hover .responses-label {
    color: white !important;
}

/* REMOVIDO: regras espec√≠ficas conflitantes - usando padr√£o da loja */

/* REMOVIDO: conflito - deixando comportamento natural como na loja */

/* REMOVIDO: chart-container margin para uniformizar com loja */

.chart-container-pie {
    background: white;
    border-radius: 7px;
    padding: 1.5rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.chart-container-bar {
    background: white;
    border-radius: 7px;
    padding: 1.5rem;
}

.chart-container-bar-wide {
    background: white;
    border-radius: 7px;
    padding: 1.5rem;
}

.chart-container-text {
    background: white;
    border-radius: 7px;
    padding: 1.5rem;
}

/* Adicionar CSS espec√≠fico para ajustes solicitados */

/* Wrapper do conte√∫do principal - corrigir comportamento */
.main-content-wrapper {
    margin-left: 40px; /* Espa√ßo para a lingueta */
    transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.main-content-wrapper.filter-open {
    margin-left: 0; /* Remove espa√ßo quando aberto (sobreposi√ß√£o) */
}

/* === REMOVIDO - CONFLITO COM DEFINI√á√ÉO PRINCIPAL === */

/* Hover removido do bloco de t√≠tulo conforme solicitado */

.rate-card.highlight-orange .dashboard-title-main,
.rate-card.highlight-orange .maintainer-name-sub,
.rate-card.highlight-orange .highlight-logo-simple {
    color: white !important;
}

.rate-card.highlight-orange .highlight-logo-simple {
    filter: brightness(0) invert(1) !important;
}

/* Total de Respostas - azul escuro sem borda branca */
.responses-card {
    background: #121F4B !important;
    color: white !important;
    border: none !important;
    padding: 2rem 1.5rem !important; /* Margem interna igual ao dashboard da loja */
    border-radius: 25px !important;
    min-height: 280px !important;
    position: relative !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 12px 32px rgba(18, 31, 75, 0.3) !important;
}

.responses-card:hover {
    transform: translateY(-8px) !important;
    box-shadow: 0 20px 40px rgba(18, 31, 75, 0.4) !important;
}

.responses-card .responses-number,
.responses-card .responses-label {
    color: white !important;
}

.responses-card:hover .responses-number,
.responses-card:hover .responses-label {
    color: white !important;
}

/* Bot√£o Sair - Branco com texto azul escuro */
.btn-logout {
    background: white !important;
    color: #121F4B !important;
    border: 2px solid #121F4B !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-logout:hover {
    background: #f8f9fa !important;
    color: #121F4B !important;
    border: 2px solid #121F4B !important;
    transform: translateY(-3px);
}

/* === DASHBOARD CONTENT MASTER - COMPENSA√á√ÉO BOOTSTRAP === */
.dashboard-content {
    padding: 0 !important; /* REMOVIDO: padding lateral (agora no wrapper) */
    width: 100% !important; /* ADICIONADO: ocupar toda largura do wrapper */
    box-sizing: border-box !important; /* ADICIONADO: box-sizing correto */
}

/* === MOBILE RESPONSIVO - COMPENSA√á√ÉO BOOTSTRAP === */
@media (max-width: 768px) {
    .main-content-wrapper {
        margin-left: 0 !important; /* MOBILE: sem margin do filtro */
        margin-right: 0 !important; /* MOBILE: sem margin direito */
        padding-left: var(--spacing-content-lateral-mobile) !important; /* MOBILE: padding m√≠nimo */
        padding-right: var(--spacing-content-lateral-mobile) !important; /* MOBILE: padding m√≠nimo */
    }
    
    .dashboard-content {
        padding: 0 !important; /* MOBILE: sem padding adicional */
    }
}

.option-check {
    opacity: 0;
    transition: opacity 0.2s ease;
}

.dropdown-option.selected .option-check {
    opacity: 1;
}

/* Campo de pesquisa dentro do dropdown */
.dropdown-search-container {
    position: relative;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid #f0f0f0;
    background: #f8f9fa;
}

.dropdown-search-input {
    width: 100%;
    padding: 0.5rem 2rem 0.5rem 0.75rem;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 0.9rem;
    background: white;
    color: #333;
    outline: none;
    transition: border-color 0.2s ease;
}

.dropdown-search-input:focus {
    border-color: #056BF1;
    box-shadow: 0 0 0 2px rgba(5, 107, 241, 0.1);
}

.dropdown-search-input::placeholder {
    color: #999;
    font-style: italic;
}

.dropdown-search-icon {
    position: absolute;
    right: 1.5rem;
    top: 50%;
    transform: translateY(-50%);
    color: #999;
    font-size: 0.8rem;
}

/* Op√ß√µes filtradas */
.dropdown-option.filtered-out {
    display: none;
}

.dropdown-option.no-results {
    padding: 1rem;
    text-align: center;
    color: #999;
    font-style: italic;
    cursor: default;
}

.dropdown-option.no-results:hover {
    background: transparent;
}

/* Ajustes espec√≠ficos para mobile - Header */
@media (max-width: 768px) {
    .header-logo {
        gap: 0.5rem !important; /* Espa√ßamento menor entre logo e indicador em mobile */
    }
}

